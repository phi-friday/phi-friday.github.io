{"_path":"/python/use_uv","_dir":"python","_draft":false,"_partial":false,"_locale":"","title":"poetry, rye 대신 uv를 사용하자","description":"rye 개발진이 넘어가래요","tags":["python","poetry","rye","uv"],"date":"2024-09-02T06:32:59.499Z","publish":true,"body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"그동안-rye를-잘-써왔는데"},"children":[{"type":"text","value":"그동안 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"rye"}]},{"type":"text","value":"를 잘 써왔는데.."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/@post/python/use_rye/"},"children":[{"type":"text","value":"이전 글"}]},{"type":"text","value":"에서 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"poetry"}]},{"type":"text","value":" 대신 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"rye"}]},{"type":"text","value":"를 사용하자고 얘기했다.\n그때 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"rye"}]},{"type":"text","value":"가 내부적으로 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"uv"}]},{"type":"text","value":"를 사용하여 빠른 속도를 제공한다고 소개했다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"그런데 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"astral"}]},{"type":"text","value":"이 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"rye"}]},{"type":"text","value":"를 관리하고 난 뒤로, "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"uv"}]},{"type":"text","value":"가 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"rye"}]},{"type":"text","value":"를 잡아먹었다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"기존 관리자, "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"astral"}]},{"type":"text","value":", 그리고 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"rye"}]},{"type":"text","value":" 사용자 커뮤니티의 의견을 취합한 결과 나온 것으로,\n기존 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"rye"}]},{"type":"text","value":" 사용자가 자연스럽게 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"uv"}]},{"type":"text","value":"로 넘어갈 수 있는 환경을 만드는 것이 목표라고 한다."}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"이와 관련하여 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"rye"}]},{"type":"text","value":" 사용자의 의견을 계속하여 묻고 있으니 관심있으면 "},{"type":"element","tag":"a","props":{"href":"https://github.com/astral-sh/rye/discussions/1342","rel":["nofollow"]},"children":[{"type":"text","value":"확인"}]},{"type":"text","value":"해보자."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"rye"}]},{"type":"text","value":"를 쓰면서 굉장히 편했기에 굳이 넘어가야 싶기도 했지만,\n어차피 지는 해, 결국에는 넘어가야 하니까 기존 프로젝트를 모두 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"uv"}]},{"type":"text","value":"로 변경했다.\n하면서 느낀거지만, 대부분의 명령어나 설정값이 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"rye"}]},{"type":"text","value":"와 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"uv"}]},{"type":"text","value":"가 호환되므로,\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pyproject.toml"}]},{"type":"text","value":"의 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"tool.rye"}]},{"type":"text","value":"를 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"tool.uv"}]},{"type":"text","value":"로 변경하면 대부분 그대로 사용할 수 있을 것이다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"하지만 일부 항목은 그렇지 않았는데, 특히 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"tool.rye.script"}]},{"type":"text","value":",\n변경하면서 아직 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"uv"}]},{"type":"text","value":"가 대체하지 못한 일부 명령어에 대한 얘기와, 이에 대한 해결 방법을 공유하고자 한다."}]},{"type":"element","tag":"h2","props":{"id":"자체-해결-가능한-문제"},"children":[{"type":"text","value":"자체 해결 가능한 문제"}]},{"type":"element","tag":"h3","props":{"id":"build"},"children":[{"type":"text","value":"build"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"기존에 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"rye build"}]},{"type":"text","value":"로 간단하게 해결됐던 명령어가 다소 복잡해졌다."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-light github-dark","code":"uvx --from build pyproject-build --installer uv\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6F42C1;--shiki-dark:#B392F0"},"children":[{"type":"text","value":"uvx"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":" --from"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":" build"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":" pyproject-build"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":" --installer"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":" uv\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"복잡해보이지만 결국 하는 일은 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"python -m build ..."}]},{"type":"text","value":"이다."}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"곧 지원될 "},{"type":"element","tag":"a","props":{"href":"https://github.com/astral-sh/uv/pull/6895","rel":["nofollow"]},"children":[{"type":"text","value":"예정"}]},{"type":"text","value":"이다."}]}]},{"type":"element","tag":"h3","props":{"id":"publish"},"children":[{"type":"text","value":"publish"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"기존에 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"rye publish"}]},{"type":"text","value":"로 간단하게 해결됐던 명령어가 다소 복잡해졌다."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-light github-dark","code":"uvx twine upload dist/* --username __token__ --password <pypi token>\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6F42C1;--shiki-dark:#B392F0"},"children":[{"type":"text","value":"uvx"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":" twine"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":" upload"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":" dist/"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":" --username"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":" __token__"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":" --password"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":" <"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":"pypi"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":" toke"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#24292E;--shiki-dark:#E1E4E8"},"children":[{"type":"text","value":"n"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#D73A49;--shiki-dark:#F97583"},"children":[{"type":"text","value":">\n"}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"복잡해보이지만 결국 하는 일은 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"python -m twine upload ..."}]},{"type":"text","value":"이다."}]},{"type":"element","tag":"h3","props":{"id":"toolryevirtual"},"children":[{"type":"text","value":"tool.rye.virtual"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"tool.uv.package"}]},{"type":"text","value":" 값을 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"false"}]},{"type":"text","value":"로 지정하면 된다."}]},{"type":"element","tag":"h3","props":{"id":"requirements-devlock"},"children":[{"type":"text","value":"requirements-dev.lock"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"원래 불가능했지만, "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"uv export"}]},{"type":"text","value":" 기능이 추가되면서 해결됐다."}]},{"type":"element","tag":"h2","props":{"id":"외부-라이브러리로-해결-가능한-문제"},"children":[{"type":"text","value":"외부 라이브러리로 해결 가능한 문제"}]},{"type":"element","tag":"h3","props":{"id":"toolryescript"},"children":[{"type":"text","value":"tool.rye.script"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://poethepoet.natn.io/","rel":["nofollow"]},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"poethepoet"}]}]},{"type":"text","value":"을 사용하여 해결할 수 있다.\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"poetry"}]},{"type":"text","value":"와 통합하여 사용할 수 있는 라이브러리인데,\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"poetry"}]},{"type":"text","value":"가 아니어도 독립적으로 사용가능하며,\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"rye"}]},{"type":"text","value":"에서 정의하는 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"script"}]},{"type":"text","value":"에서 약간만 수정하면 된다."}]},{"type":"element","tag":"h2","props":{"id":"해결-불가능한-문제"},"children":[{"type":"text","value":"해결 불가능한 문제"}]},{"type":"element","tag":"h3","props":{"id":"version"},"children":[{"type":"text","value":"version"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/astral-sh/uv/issues/6298","rel":["nofollow"]},"children":[{"type":"text","value":"기능 요청"}]},{"type":"text","value":"은 됐지만 아직 결정된 것이 없다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"외부라이브러리를 확인해봤지만, "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"rye version"}]},{"type":"text","value":"처럼 직관적이고 명확한 사용법을 제공하지는 않는다."}]},{"type":"element","tag":"h2","props":{"id":"예상은-했지만-이렇게-빠를줄은"},"children":[{"type":"text","value":"예상은 했지만 이렇게 빠를줄은"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"장기적으로 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"uv"}]},{"type":"text","value":"와 통합된 것이라는 것은 이미 알고 있었다.\n하지만 그래도 1년은 지난 다음 진행될 것이라 생각했는데,\n벌써 준비 작업이 끝난 것은 예상 밖이었다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"그래도 생각보다 부족한 기능이 별로 없다.\nCI/CD 과정을 생각하면 오히려 더 편해진 점도 있다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pip"}]},{"type":"text","value":"에서 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"poetry"}]},{"type":"text","value":", "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"rye"}]},{"type":"text","value":"를 거쳐 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"uv"}]},{"type":"text","value":"까지 왔다.\n이제는 좀 정착할 수 있기를."}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}"}]}],"toc":{"title":"","searchDepth":5,"depth":5,"links":[{"id":"그동안-rye를-잘-써왔는데","depth":2,"text":"그동안 rye를 잘 써왔는데.."},{"id":"자체-해결-가능한-문제","depth":2,"text":"자체 해결 가능한 문제","children":[{"id":"build","depth":3,"text":"build"},{"id":"publish","depth":3,"text":"publish"},{"id":"toolryevirtual","depth":3,"text":"tool.rye.virtual"},{"id":"requirements-devlock","depth":3,"text":"requirements-dev.lock"}]},{"id":"외부-라이브러리로-해결-가능한-문제","depth":2,"text":"외부 라이브러리로 해결 가능한 문제","children":[{"id":"toolryescript","depth":3,"text":"tool.rye.script"}]},{"id":"해결-불가능한-문제","depth":2,"text":"해결 불가능한 문제","children":[{"id":"version","depth":3,"text":"version"}]},{"id":"예상은-했지만-이렇게-빠를줄은","depth":2,"text":"예상은 했지만 이렇게 빠를줄은"}]}},"_type":"markdown","_id":"content:python:use_uv.md","_source":"content","_file":"python/use_uv.md","_stem":"python/use_uv","_extension":"md"}