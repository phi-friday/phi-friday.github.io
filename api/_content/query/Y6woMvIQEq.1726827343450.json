{"_path":"/python/use_rye","_dir":"python","_draft":false,"_partial":false,"_locale":"","title":"poetry 대신 rye를 사용하자","description":"생산성 향상을 위해","tags":["python","poetry","rye","uv"],"date":"2024-03-02T07:07:14.156Z","publish":true,"body":{"type":"root","children":[{"type":"element","tag":"important","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"이제 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"rye"}]},{"type":"text","value":" 대신 "},{"type":"element","tag":"a","props":{"href":"https://github.com/astral-sh/uv","rel":["nofollow"]},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"uv"}]}]},{"type":"text","value":"를 사용하세요.\n자세한 내용은 "},{"type":"element","tag":"a","props":{"href":"/@post/python/use_uv"},"children":[{"type":"text","value":"이곳"}]},{"type":"text","value":"을 확인하세요."}]}]},{"type":"element","tag":"h2","props":{"id":"poetry도-충분히-좋은-도구다-하지만"},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"poetry"}]},{"type":"text","value":"도 충분히 좋은 도구다. 하지만"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"지난 3년간 poetry는 내가 수행하고자 하는 바를 대부분 충족시켰다.\n가상환경 관리를 포함한 의존성 관리 및, 파이썬 프로젝트 관리에 있어서 대부분 만족스러웠다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"하지만 몇가지 아쉬운 점이 있다."}]},{"type":"element","tag":"h3","props":{"id":"표준-문법을-준수하지-않는다"},"children":[{"type":"text","value":"표준 문법을 준수하지 않는다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"poetry"}]},{"type":"text","value":"는 "},{"type":"element","tag":"a","props":{"href":"https://peps.python.org/pep-0621/","rel":["nofollow"]},"children":[{"type":"text","value":"PEP621"}]},{"type":"text","value":"로 정의된\n"},{"type":"element","tag":"a","props":{"href":"https://packaging.python.org/en/latest/specifications/pyproject-toml/#pyproject-toml-spec","rel":["nofollow"]},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pyproject.toml"}]}]},{"type":"text","value":" 문법을 준수하지 않는다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"어떻게 보면 당연하다. "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"poetry"}]},{"type":"text","value":"는 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"PEP621"}]},{"type":"text","value":"보다 먼저 탄생한 프로젝트다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"당시 문제되었던 의존성 문제를 해결하기 위한 자체 문법을 적용했고,\n이제는 그 문법이 비표준이 된 것 뿐이다.\n하지만 표준 문법이 정의된지 꽤 오랜 시간이 지났고,\n표준 문법을 지원하는 다른 도구("},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pdm"}]},{"type":"text","value":"이나 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pip-tools"}]},{"type":"text","value":", "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"uv"}]},{"type":"text","value":" 등)가 많이 탄생했다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"3년 전 부터 표준 준수에 대한 "},{"type":"element","tag":"a","props":{"href":"https://github.com/python-poetry/roadmap/issues/3","rel":["nofollow"]},"children":[{"type":"text","value":"요청"}]},{"type":"text","value":"이 지속적으로 있었고,\n이에 대한 "},{"type":"element","tag":"a","props":{"href":"https://github.com/python-poetry/poetry-core/pull/567","rel":["nofollow"]},"children":[{"type":"text","value":"노력"}]},{"type":"text","value":"이 없었던 것은 아니지만,\n아직 특별한 결실은 맺지 못했다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"기존에 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"poetry"}]},{"type":"text","value":"를 사용하던 많은 프로젝트가,\n점진적으로 다른 도구로 이동하는 모습이 보이는 만큼, 빠른 대응이 필요한 순간이다."}]},{"type":"element","tag":"h3","props":{"id":"외부-의존성을-필요로-한다"},"children":[{"type":"text","value":"외부 의존성을 필요로 한다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"poetry"}]},{"type":"text","value":"는 가상환경을 관리하기 위한 명령어를 제공한다.\n하지만 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"python"}]},{"type":"text","value":" 버전에 대한 관리는 외부 도구를 사용해야만 한다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"대표적으로 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pyenv"}]},{"type":"text","value":"가 있는데,\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pyenv"}]},{"type":"text","value":"로 특정 버전의 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"python"}]},{"type":"text","value":"을 설치하고,\n해당 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"python"}]},{"type":"text","value":"을 작업 영역의 인터프리터로 지정하고,\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"poetry"}]},{"type":"text","value":"에서 가상환경으로 사용할 인터프리터를 지정하면 된다.."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"쉽지만... 뭔가 뭔가다."}]},{"type":"element","tag":"h2","props":{"id":"all-in-one을-목표로-하는-rye"},"children":[{"type":"text","value":"all in one을 목표로 하는 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"rye"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"rye"}]},{"type":"text","value":"는 그러한 문제를 한번에 해결하고자 탄생한 프로젝트다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"프로젝트의 메인테이너인 "},{"type":"element","tag":"a","props":{"href":"https://github.com/mitsuhiko","rel":["nofollow"]},"children":[{"type":"text","value":"mitsuhiko"}]},{"type":"text","value":"는\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"flask"}]},{"type":"text","value":", "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"jinja"}]},{"type":"text","value":", "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"click"}]},{"type":"text","value":" 등 이름만 들어도 바로 알 수 있는 프로젝트를 관리하고 있는,\n검증된 개발자다."}]},{"type":"element","tag":"note","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"현재는 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ruff"}]},{"type":"text","value":"를 개발한 "},{"type":"element","tag":"a","props":{"href":"https://astral.sh/","rel":["nofollow"]},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"astral-sh"}]}]},{"type":"text","value":"의 지원을 받고 있다."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"기존의 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"venv"}]},{"type":"text","value":"나 의존성 관리 등 파편화된 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"python"}]},{"type":"text","value":" 환경 관리 도구에 대해,\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"rust"}]},{"type":"text","value":"의 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"cargo"}]},{"type":"text","value":"와 같은 표준화된 도구가 필요하다고 느낀 것으로 보이는데,\n이에 대한 "},{"type":"element","tag":"a","props":{"href":"https://github.com/astral-sh/rye/discussions/6","rel":["nofollow"]},"children":[{"type":"text","value":"토론 결과"}]},{"type":"text","value":",\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"rye"}]},{"type":"text","value":"를 공개하고 유지하기로 결정했다."}]},{"type":"element","tag":"h3","props":{"id":"python-버전도-rye가-관리한다"},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"python"}]},{"type":"text","value":" 버전도 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"rye"}]},{"type":"text","value":"가 관리한다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pyproject.toml"}]},{"type":"text","value":"에 정의된 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"python"}]},{"type":"text","value":" 버전을 확인하고,\n조건에 맞는 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"python"}]},{"type":"text","value":" 버전을 사용한 가상환경을 생성하고 관리한다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"당연하게도, 사용자가 원한다면 특정한 버전을 지정하여 사용할 수도 있다."}]},{"type":"element","tag":"pre","props":{"className":"language-bash shiki shiki-themes github-light github-dark","code":"rye pin 3.9.18\n# pinned 3.9.18 in /Users/username/my-project\n","language":"bash","meta":"","style":""},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6F42C1;--shiki-dark:#B392F0"},"children":[{"type":"text","value":"rye"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#032F62;--shiki-dark:#9ECBFF"},"children":[{"type":"text","value":" pin"}]},{"type":"element","tag":"span","props":{"style":"--shiki-default:#005CC5;--shiki-dark:#79B8FF"},"children":[{"type":"text","value":" 3.9.18\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"style":"--shiki-default:#6A737D;--shiki-dark:#6A737D"},"children":[{"type":"text","value":"# pinned 3.9.18 in /Users/username/my-project\n"}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"의존성-관리는-pip-tools나-uv를-사용한다"},"children":[{"type":"text","value":"의존성 관리는 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pip-tools"}]},{"type":"text","value":"나 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"uv"}]},{"type":"text","value":"를 사용한다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"다만 내부적으로 사용할 뿐, 대부분의 사용자는 이에 대해 신경쓸 필요가 없다.\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pip-tools"}]},{"type":"text","value":"를 사용할지, "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"uv"}]},{"type":"text","value":"를 사용할지 선택만 하면,\n나머지는 알아서 설치하고 알아서 사용한다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pip-tools"}]},{"type":"text","value":"는 안정적이지만 상대적으로 느리고,\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"uv"}]},{"type":"text","value":"는 아주 빠르지만 아직 안정화되지 않았다."}]},{"type":"element","tag":"h3","props":{"id":"패키징은-build와-twine을-사용한다"},"children":[{"type":"text","value":"패키징은 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"build"}]},{"type":"text","value":"와 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"twine"}]},{"type":"text","value":"을 사용한다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"둘 다 "},{"type":"element","tag":"a","props":{"href":"https://www.pypa.io/en/latest/","rel":["nofollow"]},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"PyPA"}]}]},{"type":"text","value":"에서 관리하는 표준 도구다.\n"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"PyPA"}]},{"type":"text","value":"에서 관리하는 다른 도구로는, "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pip"}]},{"type":"text","value":"와 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"virtualenv"}]},{"type":"text","value":"등이 있다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"당연하지만, 대부분의 사용자는 이에 대해 신경쓸 필요가 없다."}]},{"type":"element","tag":"h3","props":{"id":"pipx를-대신할-수도-있다"},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pipx"}]},{"type":"text","value":"를 대신할 수도 있다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"rye add"}]},{"type":"text","value":"가 아닌 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"rye install"}]},{"type":"text","value":"로 패키지를 설치하면,\n그 패키지는 독립된 환경에, 글로벌 환경에서 사용가능한 상태로 설치된다."}]},{"type":"element","tag":"h3","props":{"id":"장점만-있는건-아니다"},"children":[{"type":"text","value":"장점만 있는건 아니다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"한번에 모든 것을 관리하는 것은 좋지만, 장점만 있는 것은 아니다.\n대표적으로 플랫폼 독립적인 lock 파일을 제공하지 않는다."}]},{"type":"element","tag":"note","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"poetry"}]},{"type":"text","value":"와 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pdm"}]},{"type":"text","value":"은 플랫폼 독립적인 lock 파일을 제공한다."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"이는 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pip-tools"}]},{"type":"text","value":"와 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"uv"}]},{"type":"text","value":"를 사용하기 때문에 생긴 문제라고 볼 수도 있다."}]},{"type":"element","tag":"h2","props":{"id":"써보면-확실히-좋다"},"children":[{"type":"text","value":"써보면 확실히 좋다"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"직접 써보면 느끼겠지만,\n기존 관리 툴에 비해서 표준을 준수하며, 편하고, 빠르다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"게다가 믿을 수 있는 메인테이너 주도 하에 관리되고 있다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"프로덕션 환경에 바로 적용하기는 어렵겠지만,\n나중에는 "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"poetry"}]},{"type":"text","value":"를 대체할 단 하나의 표준이 될 수 있을수도."}]},{"type":"element","tag":"style","props":{},"children":[{"type":"text","value":"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}"}]}],"toc":{"title":"","searchDepth":5,"depth":5,"links":[{"id":"poetry도-충분히-좋은-도구다-하지만","depth":2,"text":"poetry도 충분히 좋은 도구다. 하지만","children":[{"id":"표준-문법을-준수하지-않는다","depth":3,"text":"표준 문법을 준수하지 않는다."},{"id":"외부-의존성을-필요로-한다","depth":3,"text":"외부 의존성을 필요로 한다."}]},{"id":"all-in-one을-목표로-하는-rye","depth":2,"text":"all in one을 목표로 하는 rye","children":[{"id":"python-버전도-rye가-관리한다","depth":3,"text":"python 버전도 rye가 관리한다."},{"id":"의존성-관리는-pip-tools나-uv를-사용한다","depth":3,"text":"의존성 관리는 pip-tools나 uv를 사용한다."},{"id":"패키징은-build와-twine을-사용한다","depth":3,"text":"패키징은 build와 twine을 사용한다."},{"id":"pipx를-대신할-수도-있다","depth":3,"text":"pipx를 대신할 수도 있다."},{"id":"장점만-있는건-아니다","depth":3,"text":"장점만 있는건 아니다."}]},{"id":"써보면-확실히-좋다","depth":2,"text":"써보면 확실히 좋다"}]}},"_type":"markdown","_id":"content:python:use_rye.md","_source":"content","_file":"python/use_rye.md","_stem":"python/use_rye","_extension":"md"}