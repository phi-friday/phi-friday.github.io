{"_path":"/python/polars","_dir":"python","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"나중에는 pandas를 대체할지도 모르는 polars","description":"rust로 python의 한계를 넘어서자","tags":["python","rust","js","dateframe"],"date":"2023-04-17T11:57:17.459Z","publish":true,"body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"polars란"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"polars"}]},{"type":"text","value":"란"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"polars"}]},{"type":"text","value":"는 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"rust"}]},{"type":"text","value":"로 만들어진 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"dataframe"}]},{"type":"text","value":" 라이브러리이다. 공식적으로 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"rust"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"python"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"js"}]},{"type":"text","value":"를 지원하며, 거의 동일한 형태의 api를 사용하여 데이터프레임을 조작할 수 있다."}]},{"type":"element","tag":"alert","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"주로 파이썬을 사용하는 만큼, 파이썬위주로 작성된 글입니다."}]}]},{"type":"element","tag":"h3","props":{"id":"polars의-특징"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"polars"}]},{"type":"text","value":"의 특징"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"완전히 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"rust"}]},{"type":"text","value":"로 작성됨"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Apache Arrow"}]},{"type":"text","value":"의 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"rust"}]},{"type":"text","value":"구현체인 "},{"type":"element","tag":"a","props":{"href":"https://github.com/jorgecarleitao/arrow2","rel":["nofollow"]},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Arrow2"}]}]},{"type":"text","value":" 기반으로 구축됨"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"지연 계산을 지원함"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"rust"}]},{"type":"text","value":"기반의 멀티쓰레드를 사용하여 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GIL"}]},{"type":"text","value":"을 우회함"}]}]},{"type":"element","tag":"h3","props":{"id":"벤치마크"},"children":[{"type":"text","value":"벤치마크"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://h2oai.github.io/db-benchmark/","rel":["nofollow"]},"children":[{"type":"text","value":"이곳"}]},{"type":"text","value":"에서 확인 가능하다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"요약하자면, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pandas"}]},{"type":"text","value":"대비 1/5 ~ 1/12의 시간을 소모하며, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pandas"}]},{"type":"text","value":"나 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"dask"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"modin"}]},{"type":"text","value":"에서는 처리할 수 없는 양의 데이터(>=50GB, 1_000_000_000 레코드)를 처리할 수 있다."}]},{"type":"element","tag":"h3","props":{"id":"사용-예시"},"children":[{"type":"text","value":"사용 예시"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/pola-rs/polars/tree/main/py-polars","rel":["nofollow"]},"children":[{"type":"text","value":"출처"}]}]},{"type":"element","tag":"code","props":{"code":">>> import polars as pl\n>>> df = pl.DataFrame(\n...     {\n...         \"A\": [1, 2, 3, 4, 5],\n...         \"fruits\": [\"banana\", \"banana\", \"apple\", \"apple\", \"banana\"],\n...         \"B\": [5, 4, 3, 2, 1],\n...         \"cars\": [\"beetle\", \"audi\", \"beetle\", \"beetle\", \"beetle\"],\n...     }\n... )\n\n# embarrassingly parallel execution & very expressive query language\n>>> df.sort(\"fruits\").select(\n...     \"fruits\",\n...     \"cars\",\n...     pl.lit(\"fruits\").alias(\"literal_string_fruits\"),\n...     pl.col(\"B\").filter(pl.col(\"cars\") == \"beetle\").sum(),\n...     pl.col(\"A\").filter(pl.col(\"B\") > 2).sum().over(\"cars\").alias(\"sum_A_by_cars\"),\n...     pl.col(\"A\").sum().over(\"fruits\").alias(\"sum_A_by_fruits\"),\n...     pl.col(\"A\").reverse().over(\"fruits\").alias(\"rev_A_by_fruits\"),\n...     # pl.col(\"A\").sort_by(\"B\").over(\"fruits\").alias(\"sort_A_by_B_by_fruits\"),\n... )\nshape: (5, 8)\n┌──────────┬──────────┬──────────────┬─────┬─────────────┬─────────────┬─────────────┐\n│ fruits   ┆ cars     ┆ literal_stri ┆ B   ┆ sum_A_by_ca ┆ sum_A_by_fr ┆ rev_A_by_fr │\n│ ---      ┆ ---      ┆ ng_fruits    ┆ --- ┆ rs          ┆ uits        ┆ uits        │\n│ str      ┆ str      ┆ ---          ┆ i64 ┆ ---         ┆ ---         ┆ ---         │\n│          ┆          ┆ str          ┆     ┆ i64         ┆ i64         ┆ i64         │\n╞══════════╪══════════╪══════════════╪═════╪═════════════╪═════════════╪═════════════╡\n│ \"apple\"  ┆ \"beetle\" ┆ \"fruits\"     ┆ 11  ┆ 4           ┆ 7           ┆ 4           │\n│ \"apple\"  ┆ \"beetle\" ┆ \"fruits\"     ┆ 11  ┆ 4           ┆ 7           ┆ 3           │\n│ \"banana\" ┆ \"beetle\" ┆ \"fruits\"     ┆ 11  ┆ 4           ┆ 8           ┆ 5           │\n│ \"banana\" ┆ \"audi\"   ┆ \"fruits\"     ┆ 11  ┆ 2           ┆ 8           ┆ 2           │\n│ \"banana\" ┆ \"beetle\" ┆ \"fruits\"     ┆ 11  ┆ 4           ┆ 8           ┆ 1           │\n└──────────┴──────────┴──────────────┴─────┴─────────────┴─────────────┴─────────────┘\n","language":"python","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0a7114"},"children":[{"type":"text","value":">>>"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-0a7114"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":" polars "}]},{"type":"element","tag":"span","props":{"class":"ct-0a7114"},"children":[{"type":"text","value":"as"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":" pl"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0a7114"},"children":[{"type":"text","value":">>>"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":" df "}]},{"type":"element","tag":"span","props":{"class":"ct-0a7114"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":" pl.DataFrame("}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"     {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"         "}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"A\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":": ["}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"3"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"4"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"5"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"],"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"         "}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"fruits\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":": ["}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"banana\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"banana\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"apple\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"apple\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"banana\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"],"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"         "}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"B\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":": ["}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"5"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"4"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"3"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"],"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"         "}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"cars\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":": ["}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"beetle\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"audi\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"beetle\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"beetle\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"beetle\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"],"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"     }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":" )"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-381e70"},"children":[{"type":"text","value":"# embarrassingly parallel execution & very expressive query language"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-0a7114"},"children":[{"type":"text","value":">>>"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":" df.sort("}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"fruits\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":").select("}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"     "}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"fruits\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"     "}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"cars\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"     pl.lit("}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"fruits\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":").alias("}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"literal_string_fruits\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"),"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"     pl.col("}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"B\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":").filter(pl.col("}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"cars\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-0a7114"},"children":[{"type":"text","value":"=="}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"beetle\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":").sum(),"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"     pl.col("}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"A\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":").filter(pl.col("}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"B\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-0a7114"},"children":[{"type":"text","value":">"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":").sum().over("}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"cars\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":").alias("}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"sum_A_by_cars\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"),"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"     pl.col("}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"A\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":").sum().over("}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"fruits\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":").alias("}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"sum_A_by_fruits\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"),"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"     pl.col("}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"A\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":").reverse().over("}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"fruits\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":").alias("}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"rev_A_by_fruits\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"),"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"     "}]},{"type":"element","tag":"span","props":{"class":"ct-381e70"},"children":[{"type":"text","value":"# pl.col(\"A\").sort_by(\"B\").over(\"fruits\").alias(\"sort_A_by_B_by_fruits\"),"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":" )"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"shape: ("}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"5"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"8"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"┌──────────┬──────────┬──────────────┬─────┬─────────────┬─────────────┬─────────────┐"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"│ fruits   ┆ cars     ┆ literal_stri ┆ B   ┆ sum_A_by_ca ┆ sum_A_by_fr ┆ rev_A_by_fr │"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"│ "}]},{"type":"element","tag":"span","props":{"class":"ct-6b1f53"},"children":[{"type":"text","value":"--"}]},{"type":"element","tag":"span","props":{"class":"ct-0a7114"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"      ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-6b1f53"},"children":[{"type":"text","value":"--"}]},{"type":"element","tag":"span","props":{"class":"ct-0a7114"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"      ┆ ng_fruits    ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-6b1f53"},"children":[{"type":"text","value":"--"}]},{"type":"element","tag":"span","props":{"class":"ct-0a7114"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":" ┆ rs          ┆ uits        ┆ uits        │"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"│ "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"str"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"      ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"str"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"      ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-6b1f53"},"children":[{"type":"text","value":"--"}]},{"type":"element","tag":"span","props":{"class":"ct-0a7114"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"          ┆ i64 ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-6b1f53"},"children":[{"type":"text","value":"--"}]},{"type":"element","tag":"span","props":{"class":"ct-0a7114"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"         ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-6b1f53"},"children":[{"type":"text","value":"--"}]},{"type":"element","tag":"span","props":{"class":"ct-0a7114"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"         ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-6b1f53"},"children":[{"type":"text","value":"--"}]},{"type":"element","tag":"span","props":{"class":"ct-0a7114"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"         │"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"│          ┆          ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"str"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"          ┆     ┆ i64         ┆ i64         ┆ i64         │"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"╞══════════╪══════════╪══════════════╪═════╪═════════════╪═════════════╪═════════════╡"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"│ "}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"apple\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"  ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"beetle\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":" ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"fruits\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"     ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"11"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"  ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"4"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"           ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"7"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"           ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"4"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"           │"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"│ "}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"apple\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"  ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"beetle\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":" ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"fruits\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"     ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"11"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"  ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"4"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"           ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"7"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"           ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"3"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"           │"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"│ "}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"banana\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":" ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"beetle\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":" ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"fruits\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"     ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"11"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"  ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"4"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"           ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"8"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"           ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"5"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"           │"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"│ "}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"banana\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":" ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"audi\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"   ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"fruits\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"     ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"11"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"  ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"           ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"8"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"           ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"2"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"           │"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"│ "}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"banana\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":" ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"beetle\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":" ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-a08e0a"},"children":[{"type":"text","value":"\"fruits\""}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"     ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"11"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"  ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"4"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"           ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"8"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"           ┆ "}]},{"type":"element","tag":"span","props":{"class":"ct-84f821"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"           │"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7c7dc6"},"children":[{"type":"text","value":"└──────────┴──────────┴──────────────┴─────┴─────────────┴─────────────┴─────────────┘"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"좀 더 상세한 가이드는 "},{"type":"element","tag":"a","props":{"href":"https://pola-rs.github.io/polars-book/user-guide/","rel":["nofollow"]},"children":[{"type":"text","value":"이곳"}]},{"type":"text","value":"에서 확인할 수 있다."}]},{"type":"element","tag":"h2","props":{"id":"사용-후기"},"children":[{"type":"text","value":"사용 후기"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"최근 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pandas"}]},{"type":"text","value":"의 새로운 메이저 버전인 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"2.0.0"}]},{"type":"text","value":"이 정식으로 출시됐다.\n여러 변경점이 있지만, 그 중 하나는 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pyarrow"}]},{"type":"text","value":"를 정식 백엔드로 도입한 것이다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pyarrow"}]},{"type":"text","value":"는 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"numpy"}]},{"type":"text","value":"대비 여러 이점이 있는데, 그 중 하나는 문자열과 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"null"}]},{"type":"text","value":"값에 대한 처리를 예로 들 수 있다.\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"numpy"}]},{"type":"text","value":"의 속도도 충분히 좋고 타입 힌트로 상대적으로 잘 돼있어 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pyarrow"}]},{"type":"text","value":"로 바로 넘어갈 필요는 없다.\n하지만 많은 라이브러리가 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pyarrow"}]},{"type":"text","value":"를 함께 지원하고 있는 모습을 보면, 이제 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pyarrow"}]},{"type":"text","value":"로 완전히 넘어갈 준비를 해도 좋다는 생각이 든다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"그런점에서 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"polars"}]},{"type":"text","value":"는 좋은 선택이다.\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pyarrow"}]},{"type":"text","value":"기반으로 구축된 점과 더불어 지연 계산과 멀티쓰레드를 지원하고, 타입힌트 또한 우수하다.\n지연계산과 멀티쓰레드(멀티프로세싱) 측면에서 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"vaex"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"dask"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"modin"}]},{"type":"text","value":"을 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pandas"}]},{"type":"text","value":"의 대체품으로 제시할 수 있다.\n하지만 이들 모두 타입힌트 측면에서 많이 부족하고, 성능상 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"polars"}]},{"type":"text","value":"가 훨씬 우수하기에, 굳이 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"polars"}]},{"type":"text","value":"말고 다른 라이브러리를 쓸 이유가 없어보인다.(차라리 그대로 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pandas"}]},{"type":"text","value":"를 쓰는게 낫다.)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"다만 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"polars"}]},{"type":"text","value":"가 아직 만들어진지 얼마 되지 않은 신생 프로젝트라 기존 api에서 변경될 사항이 많을 것이기에, 당장 넘어가기는 힘들어 보인다.\n또한 문법이 간단하지만, 그럼에도 기존 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pandas"}]},{"type":"text","value":"와는 다른 방식이기에 학습곡선을 고려해야한다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"빠르면 1년, 늦어도 3년이면 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pandas"}]},{"type":"text","value":"를 잊게 할 라이브러리가 되지 않을까? 기대가 된다."}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-6b1f53{color:#82071E}\n.ct-381e70{color:#6E7781}\n.ct-a08e0a{color:#0A3069}\n.ct-84f821{color:#0550AE}\n.ct-7c7dc6{color:#24292F}\n.ct-0a7114{color:#CF222E}\n.dark .ct-0a7114{color:#FF7B72}\n.dark .ct-7c7dc6{color:#C9D1D9}\n.dark .ct-84f821{color:#79C0FF}\n.dark .ct-a08e0a{color:#A5D6FF}\n.dark .ct-381e70{color:#8B949E}\n.dark .ct-6b1f53{color:#FFA198}"}]}],"toc":{"title":"","searchDepth":5,"depth":5,"links":[{"id":"polars란","depth":2,"text":"polars란","children":[{"id":"polars의-특징","depth":3,"text":"polars의 특징"},{"id":"벤치마크","depth":3,"text":"벤치마크"},{"id":"사용-예시","depth":3,"text":"사용 예시"}]},{"id":"사용-후기","depth":2,"text":"사용 후기"}]}},"_type":"markdown","_id":"content:python:polars.md","_source":"content","_file":"python/polars.md","_extension":"md"}