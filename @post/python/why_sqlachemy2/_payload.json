[{"data":1,"prerenderedAt":4010},["ShallowReactive",2],{"selected_data_with_surround_/python/why_sqlachemy2":3},{"article":4,"surround":4002},{"_path":5,"_dir":6,"_draft":7,"_partial":7,"_locale":8,"title":9,"description":10,"tags":11,"date":14,"publish":15,"body":16,"_type":3996,"_id":3997,"_source":3998,"_file":3999,"_stem":4000,"_extension":4001},"/python/why_sqlachemy2","python",false,"","sqlalchemy2.0는 무엇이 달라졌고, 왜 써야할까.","더 빠르고 정확해진 orm",[6,12,13],"orm","sqlalchemy","2023-03-18",true,{"type":17,"children":18,"toc":3983},"root",[19,40,47,68,584,589,1555,1561,1581,2496,2518,2529,2534,2832,2837,2979,3004,3064,3077,3084,3111,3643,3649,3676,3853,3862,3917,3923,3928,3977],{"type":20,"tag":21,"props":22,"children":23},"element","note",{},[24],{"type":20,"tag":25,"props":26,"children":27},"p",{},[28,38],{"type":20,"tag":29,"props":30,"children":34},"a",{"href":31,"rel":32},"https://docs.sqlalchemy.org/en/20/changelog/whatsnew_20.html",[33],"nofollow",[35],{"type":36,"value":37},"text","What’s New in SQLAlchemy 2.0?",{"type":36,"value":39}," 에서 필요하다 생각되는 내용을 각색해서 작성한 글입니다.",{"type":20,"tag":41,"props":42,"children":44},"h2",{"id":43},"_1-pep-484-지원",[45],{"type":36,"value":46},"1. PEP-484 지원",{"type":20,"tag":25,"props":48,"children":49},{},[50,52,58,60,66],{"type":36,"value":51},"기존의 ",{"type":20,"tag":53,"props":54,"children":56},"code",{"className":55},[],[57],{"type":36,"value":13},{"type":36,"value":59},"는 ",{"type":20,"tag":53,"props":61,"children":63},{"className":62},[],[64],{"type":36,"value":65},"sqlalchemy2-stubs",{"type":36,"value":67},"를 사용해서 타입 힌트를 제공했지만, 완전하지 않았습니다. 하지만 2.0에서는 이와 관련하여 유형이 있는 모든 요소에 대해 재작업되어, 선언부터 결과까지 확장됩니다. 실제 코드로 확인해봅시다.",{"type":20,"tag":69,"props":70,"children":73},"pre",{"className":71,"code":72,"language":6,"meta":8,"style":8},"language-python shiki shiki-themes github-light github-dark","import sqlalchemy as sa\n\nengine = sa.create_engine(sa.make_url(\"sqlite://\"))\n\nstr_col = sa.column(\"a\", sa.String)  # ColumnClause[str]\nint_col = sa.column(\"a\", sa.Integer)  # ColumnClause[int]\n\nexpr1 = str_col + \"x\"  # ColumnElement[str]\nexpr2 = int_col + 10  # ColumnElement[int]\nexpr3 = int_col == 15  # ColumnElement[bool]\n\n# Select[Tuple[str, int]]\nselect_stmt = sa.select(str_col, int_col)\n# ReturningInsert[Tuple[str, int]]\ninsert_stmt = sa.insert(sa.table(\"t\")).returning(str_col, int_col)\n\nwith engine.connect() as conn:\n    # CursorResult[Tuple[str, int]]\n    result = conn.execute(select_stmt)\n    # Row[Tuple[str, int]] | None\n    row = result.first()\n\n    if row is not None:\n        # str, int = Tuple[str, int]\n        str_val, int_val = row.tuple()\n\n    # Sequence[str]\n    data = conn.execute(sa.select(str_col)).scalars().all()\n",[74],{"type":20,"tag":53,"props":75,"children":76},{"__ignoreMap":8},[77,105,114,144,152,186,217,225,258,291,323,331,340,358,367,395,403,426,435,453,462,480,488,522,531,549,557,566],{"type":20,"tag":78,"props":79,"children":82},"span",{"class":80,"line":81},"line",1,[83,89,95,100],{"type":20,"tag":78,"props":84,"children":86},{"style":85},"--shiki-default:#D73A49;--shiki-dark:#F97583",[87],{"type":36,"value":88},"import",{"type":20,"tag":78,"props":90,"children":92},{"style":91},"--shiki-default:#24292E;--shiki-dark:#E1E4E8",[93],{"type":36,"value":94}," sqlalchemy ",{"type":20,"tag":78,"props":96,"children":97},{"style":85},[98],{"type":36,"value":99},"as",{"type":20,"tag":78,"props":101,"children":102},{"style":91},[103],{"type":36,"value":104}," sa\n",{"type":20,"tag":78,"props":106,"children":108},{"class":80,"line":107},2,[109],{"type":20,"tag":78,"props":110,"children":111},{"emptyLinePlaceholder":15},[112],{"type":36,"value":113},"\n",{"type":20,"tag":78,"props":115,"children":117},{"class":80,"line":116},3,[118,123,128,133,139],{"type":20,"tag":78,"props":119,"children":120},{"style":91},[121],{"type":36,"value":122},"engine ",{"type":20,"tag":78,"props":124,"children":125},{"style":85},[126],{"type":36,"value":127},"=",{"type":20,"tag":78,"props":129,"children":130},{"style":91},[131],{"type":36,"value":132}," sa.create_engine(sa.make_url(",{"type":20,"tag":78,"props":134,"children":136},{"style":135},"--shiki-default:#032F62;--shiki-dark:#9ECBFF",[137],{"type":36,"value":138},"\"sqlite://\"",{"type":20,"tag":78,"props":140,"children":141},{"style":91},[142],{"type":36,"value":143},"))\n",{"type":20,"tag":78,"props":145,"children":147},{"class":80,"line":146},4,[148],{"type":20,"tag":78,"props":149,"children":150},{"emptyLinePlaceholder":15},[151],{"type":36,"value":113},{"type":20,"tag":78,"props":153,"children":155},{"class":80,"line":154},5,[156,161,165,170,175,180],{"type":20,"tag":78,"props":157,"children":158},{"style":91},[159],{"type":36,"value":160},"str_col ",{"type":20,"tag":78,"props":162,"children":163},{"style":85},[164],{"type":36,"value":127},{"type":20,"tag":78,"props":166,"children":167},{"style":91},[168],{"type":36,"value":169}," sa.column(",{"type":20,"tag":78,"props":171,"children":172},{"style":135},[173],{"type":36,"value":174},"\"a\"",{"type":20,"tag":78,"props":176,"children":177},{"style":91},[178],{"type":36,"value":179},", sa.String)  ",{"type":20,"tag":78,"props":181,"children":183},{"style":182},"--shiki-default:#6A737D;--shiki-dark:#6A737D",[184],{"type":36,"value":185},"# ColumnClause[str]\n",{"type":20,"tag":78,"props":187,"children":189},{"class":80,"line":188},6,[190,195,199,203,207,212],{"type":20,"tag":78,"props":191,"children":192},{"style":91},[193],{"type":36,"value":194},"int_col ",{"type":20,"tag":78,"props":196,"children":197},{"style":85},[198],{"type":36,"value":127},{"type":20,"tag":78,"props":200,"children":201},{"style":91},[202],{"type":36,"value":169},{"type":20,"tag":78,"props":204,"children":205},{"style":135},[206],{"type":36,"value":174},{"type":20,"tag":78,"props":208,"children":209},{"style":91},[210],{"type":36,"value":211},", sa.Integer)  ",{"type":20,"tag":78,"props":213,"children":214},{"style":182},[215],{"type":36,"value":216},"# ColumnClause[int]\n",{"type":20,"tag":78,"props":218,"children":220},{"class":80,"line":219},7,[221],{"type":20,"tag":78,"props":222,"children":223},{"emptyLinePlaceholder":15},[224],{"type":36,"value":113},{"type":20,"tag":78,"props":226,"children":228},{"class":80,"line":227},8,[229,234,238,243,248,253],{"type":20,"tag":78,"props":230,"children":231},{"style":91},[232],{"type":36,"value":233},"expr1 ",{"type":20,"tag":78,"props":235,"children":236},{"style":85},[237],{"type":36,"value":127},{"type":20,"tag":78,"props":239,"children":240},{"style":91},[241],{"type":36,"value":242}," str_col ",{"type":20,"tag":78,"props":244,"children":245},{"style":85},[246],{"type":36,"value":247},"+",{"type":20,"tag":78,"props":249,"children":250},{"style":135},[251],{"type":36,"value":252}," \"x\"",{"type":20,"tag":78,"props":254,"children":255},{"style":182},[256],{"type":36,"value":257},"  # ColumnElement[str]\n",{"type":20,"tag":78,"props":259,"children":261},{"class":80,"line":260},9,[262,267,271,276,280,286],{"type":20,"tag":78,"props":263,"children":264},{"style":91},[265],{"type":36,"value":266},"expr2 ",{"type":20,"tag":78,"props":268,"children":269},{"style":85},[270],{"type":36,"value":127},{"type":20,"tag":78,"props":272,"children":273},{"style":91},[274],{"type":36,"value":275}," int_col ",{"type":20,"tag":78,"props":277,"children":278},{"style":85},[279],{"type":36,"value":247},{"type":20,"tag":78,"props":281,"children":283},{"style":282},"--shiki-default:#005CC5;--shiki-dark:#79B8FF",[284],{"type":36,"value":285}," 10",{"type":20,"tag":78,"props":287,"children":288},{"style":182},[289],{"type":36,"value":290},"  # ColumnElement[int]\n",{"type":20,"tag":78,"props":292,"children":294},{"class":80,"line":293},10,[295,300,304,308,313,318],{"type":20,"tag":78,"props":296,"children":297},{"style":91},[298],{"type":36,"value":299},"expr3 ",{"type":20,"tag":78,"props":301,"children":302},{"style":85},[303],{"type":36,"value":127},{"type":20,"tag":78,"props":305,"children":306},{"style":91},[307],{"type":36,"value":275},{"type":20,"tag":78,"props":309,"children":310},{"style":85},[311],{"type":36,"value":312},"==",{"type":20,"tag":78,"props":314,"children":315},{"style":282},[316],{"type":36,"value":317}," 15",{"type":20,"tag":78,"props":319,"children":320},{"style":182},[321],{"type":36,"value":322},"  # ColumnElement[bool]\n",{"type":20,"tag":78,"props":324,"children":326},{"class":80,"line":325},11,[327],{"type":20,"tag":78,"props":328,"children":329},{"emptyLinePlaceholder":15},[330],{"type":36,"value":113},{"type":20,"tag":78,"props":332,"children":334},{"class":80,"line":333},12,[335],{"type":20,"tag":78,"props":336,"children":337},{"style":182},[338],{"type":36,"value":339},"# Select[Tuple[str, int]]\n",{"type":20,"tag":78,"props":341,"children":343},{"class":80,"line":342},13,[344,349,353],{"type":20,"tag":78,"props":345,"children":346},{"style":91},[347],{"type":36,"value":348},"select_stmt ",{"type":20,"tag":78,"props":350,"children":351},{"style":85},[352],{"type":36,"value":127},{"type":20,"tag":78,"props":354,"children":355},{"style":91},[356],{"type":36,"value":357}," sa.select(str_col, int_col)\n",{"type":20,"tag":78,"props":359,"children":361},{"class":80,"line":360},14,[362],{"type":20,"tag":78,"props":363,"children":364},{"style":182},[365],{"type":36,"value":366},"# ReturningInsert[Tuple[str, int]]\n",{"type":20,"tag":78,"props":368,"children":370},{"class":80,"line":369},15,[371,376,380,385,390],{"type":20,"tag":78,"props":372,"children":373},{"style":91},[374],{"type":36,"value":375},"insert_stmt ",{"type":20,"tag":78,"props":377,"children":378},{"style":85},[379],{"type":36,"value":127},{"type":20,"tag":78,"props":381,"children":382},{"style":91},[383],{"type":36,"value":384}," sa.insert(sa.table(",{"type":20,"tag":78,"props":386,"children":387},{"style":135},[388],{"type":36,"value":389},"\"t\"",{"type":20,"tag":78,"props":391,"children":392},{"style":91},[393],{"type":36,"value":394},")).returning(str_col, int_col)\n",{"type":20,"tag":78,"props":396,"children":398},{"class":80,"line":397},16,[399],{"type":20,"tag":78,"props":400,"children":401},{"emptyLinePlaceholder":15},[402],{"type":36,"value":113},{"type":20,"tag":78,"props":404,"children":406},{"class":80,"line":405},17,[407,412,417,421],{"type":20,"tag":78,"props":408,"children":409},{"style":85},[410],{"type":36,"value":411},"with",{"type":20,"tag":78,"props":413,"children":414},{"style":91},[415],{"type":36,"value":416}," engine.connect() ",{"type":20,"tag":78,"props":418,"children":419},{"style":85},[420],{"type":36,"value":99},{"type":20,"tag":78,"props":422,"children":423},{"style":91},[424],{"type":36,"value":425}," conn:\n",{"type":20,"tag":78,"props":427,"children":429},{"class":80,"line":428},18,[430],{"type":20,"tag":78,"props":431,"children":432},{"style":182},[433],{"type":36,"value":434},"    # CursorResult[Tuple[str, int]]\n",{"type":20,"tag":78,"props":436,"children":438},{"class":80,"line":437},19,[439,444,448],{"type":20,"tag":78,"props":440,"children":441},{"style":91},[442],{"type":36,"value":443},"    result ",{"type":20,"tag":78,"props":445,"children":446},{"style":85},[447],{"type":36,"value":127},{"type":20,"tag":78,"props":449,"children":450},{"style":91},[451],{"type":36,"value":452}," conn.execute(select_stmt)\n",{"type":20,"tag":78,"props":454,"children":456},{"class":80,"line":455},20,[457],{"type":20,"tag":78,"props":458,"children":459},{"style":182},[460],{"type":36,"value":461},"    # Row[Tuple[str, int]] | None\n",{"type":20,"tag":78,"props":463,"children":465},{"class":80,"line":464},21,[466,471,475],{"type":20,"tag":78,"props":467,"children":468},{"style":91},[469],{"type":36,"value":470},"    row ",{"type":20,"tag":78,"props":472,"children":473},{"style":85},[474],{"type":36,"value":127},{"type":20,"tag":78,"props":476,"children":477},{"style":91},[478],{"type":36,"value":479}," result.first()\n",{"type":20,"tag":78,"props":481,"children":483},{"class":80,"line":482},22,[484],{"type":20,"tag":78,"props":485,"children":486},{"emptyLinePlaceholder":15},[487],{"type":36,"value":113},{"type":20,"tag":78,"props":489,"children":491},{"class":80,"line":490},23,[492,497,502,507,512,517],{"type":20,"tag":78,"props":493,"children":494},{"style":85},[495],{"type":36,"value":496},"    if",{"type":20,"tag":78,"props":498,"children":499},{"style":91},[500],{"type":36,"value":501}," row ",{"type":20,"tag":78,"props":503,"children":504},{"style":85},[505],{"type":36,"value":506},"is",{"type":20,"tag":78,"props":508,"children":509},{"style":85},[510],{"type":36,"value":511}," not",{"type":20,"tag":78,"props":513,"children":514},{"style":282},[515],{"type":36,"value":516}," None",{"type":20,"tag":78,"props":518,"children":519},{"style":91},[520],{"type":36,"value":521},":\n",{"type":20,"tag":78,"props":523,"children":525},{"class":80,"line":524},24,[526],{"type":20,"tag":78,"props":527,"children":528},{"style":182},[529],{"type":36,"value":530},"        # str, int = Tuple[str, int]\n",{"type":20,"tag":78,"props":532,"children":534},{"class":80,"line":533},25,[535,540,544],{"type":20,"tag":78,"props":536,"children":537},{"style":91},[538],{"type":36,"value":539},"        str_val, int_val ",{"type":20,"tag":78,"props":541,"children":542},{"style":85},[543],{"type":36,"value":127},{"type":20,"tag":78,"props":545,"children":546},{"style":91},[547],{"type":36,"value":548}," row.tuple()\n",{"type":20,"tag":78,"props":550,"children":552},{"class":80,"line":551},26,[553],{"type":20,"tag":78,"props":554,"children":555},{"emptyLinePlaceholder":15},[556],{"type":36,"value":113},{"type":20,"tag":78,"props":558,"children":560},{"class":80,"line":559},27,[561],{"type":20,"tag":78,"props":562,"children":563},{"style":182},[564],{"type":36,"value":565},"    # Sequence[str]\n",{"type":20,"tag":78,"props":567,"children":569},{"class":80,"line":568},28,[570,575,579],{"type":20,"tag":78,"props":571,"children":572},{"style":91},[573],{"type":36,"value":574},"    data ",{"type":20,"tag":78,"props":576,"children":577},{"style":85},[578],{"type":36,"value":127},{"type":20,"tag":78,"props":580,"children":581},{"style":91},[582],{"type":36,"value":583}," conn.execute(sa.select(str_col)).scalars().all()\n",{"type":20,"tag":25,"props":585,"children":586},{},[587],{"type":36,"value":588},"이러한 점은 선언적 모델 정의에서도 잘 확인할 수 있습니다.",{"type":20,"tag":69,"props":590,"children":592},{"className":71,"code":591,"language":6,"meta":8,"style":8},"from __future__ import annotations\n\nimport sqlalchemy as sa\nfrom sqlalchemy.orm import (\n    DeclarativeBase,\n    Mapped,\n    Session,\n    aliased,\n    mapped_column,\n    relationship,\n)\n\nengine = sa.create_engine(sa.make_url(\"sqlite://\"))\n\n\nclass Base(DeclarativeBase):\n    ...\n\n\nclass User(Base):\n    __tablename__ = \"user_account\"\n\n    id: Mapped[int] = mapped_column(primary_key=True)\n    name: Mapped[str]\n    addresses: Mapped[list[Address]] = relationship()\n\n\nclass Address(Base):\n    __tablename__ = \"address\"\n\n    id: Mapped[int] = mapped_column(primary_key=True)\n    email_address: Mapped[str]\n    user_id = mapped_column(sa.ForeignKey(\"user_account.id\"))\n\n\nwith Session(engine) as session:\n    # Select[Tuple[User, Address]]\n    stmt = sa.select(User, Address).join_from(User, Address)\n    # Result[Tuple[User, Address]]\n    result = session.execute(stmt)\n    # User, Address = Tuple[User, Address]\n    user, adderss = result.one().tuple()\n\n    aliased_user = aliased(User)  # Type[User]\n    # Select[Tuple[User, User, str]]\n    stmt = sa.select(User, aliased_user, User.name).where(User.id == 5)\n    # Result[Tuple[User, User, str]]\n    result = session.execute(stmt)\n\n    # User\n    user = (\n        session.execute(\n            sa.select(User).limit(1),\n        )\n        .scalars()\n        .one()\n    )\n    # Sequence[User]\n    users = (\n        session.execute(\n            sa.select(User),\n        )\n        .scalars()\n        .all()\n    )\n    # Iterator[User]\n    user_iter = iter(\n        session.execute(\n            sa.select(User),\n        ).scalars(),\n    )\n",[593],{"type":20,"tag":53,"props":594,"children":595},{"__ignoreMap":8},[596,619,626,645,666,674,682,690,698,706,714,722,729,752,759,766,795,803,810,817,842,859,866,917,935,952,959,966,990,1007,1015,1059,1076,1103,1111,1119,1141,1150,1168,1177,1194,1203,1221,1229,1252,1261,1291,1300,1316,1324,1333,1350,1359,1378,1387,1396,1405,1414,1423,1440,1448,1457,1465,1473,1482,1490,1499,1522,1530,1538,1547],{"type":20,"tag":78,"props":597,"children":598},{"class":80,"line":81},[599,604,609,614],{"type":20,"tag":78,"props":600,"children":601},{"style":85},[602],{"type":36,"value":603},"from",{"type":20,"tag":78,"props":605,"children":606},{"style":282},[607],{"type":36,"value":608}," __future__",{"type":20,"tag":78,"props":610,"children":611},{"style":85},[612],{"type":36,"value":613}," import",{"type":20,"tag":78,"props":615,"children":616},{"style":91},[617],{"type":36,"value":618}," annotations\n",{"type":20,"tag":78,"props":620,"children":621},{"class":80,"line":107},[622],{"type":20,"tag":78,"props":623,"children":624},{"emptyLinePlaceholder":15},[625],{"type":36,"value":113},{"type":20,"tag":78,"props":627,"children":628},{"class":80,"line":116},[629,633,637,641],{"type":20,"tag":78,"props":630,"children":631},{"style":85},[632],{"type":36,"value":88},{"type":20,"tag":78,"props":634,"children":635},{"style":91},[636],{"type":36,"value":94},{"type":20,"tag":78,"props":638,"children":639},{"style":85},[640],{"type":36,"value":99},{"type":20,"tag":78,"props":642,"children":643},{"style":91},[644],{"type":36,"value":104},{"type":20,"tag":78,"props":646,"children":647},{"class":80,"line":146},[648,652,657,661],{"type":20,"tag":78,"props":649,"children":650},{"style":85},[651],{"type":36,"value":603},{"type":20,"tag":78,"props":653,"children":654},{"style":91},[655],{"type":36,"value":656}," sqlalchemy.orm ",{"type":20,"tag":78,"props":658,"children":659},{"style":85},[660],{"type":36,"value":88},{"type":20,"tag":78,"props":662,"children":663},{"style":91},[664],{"type":36,"value":665}," (\n",{"type":20,"tag":78,"props":667,"children":668},{"class":80,"line":154},[669],{"type":20,"tag":78,"props":670,"children":671},{"style":91},[672],{"type":36,"value":673},"    DeclarativeBase,\n",{"type":20,"tag":78,"props":675,"children":676},{"class":80,"line":188},[677],{"type":20,"tag":78,"props":678,"children":679},{"style":91},[680],{"type":36,"value":681},"    Mapped,\n",{"type":20,"tag":78,"props":683,"children":684},{"class":80,"line":219},[685],{"type":20,"tag":78,"props":686,"children":687},{"style":91},[688],{"type":36,"value":689},"    Session,\n",{"type":20,"tag":78,"props":691,"children":692},{"class":80,"line":227},[693],{"type":20,"tag":78,"props":694,"children":695},{"style":91},[696],{"type":36,"value":697},"    aliased,\n",{"type":20,"tag":78,"props":699,"children":700},{"class":80,"line":260},[701],{"type":20,"tag":78,"props":702,"children":703},{"style":91},[704],{"type":36,"value":705},"    mapped_column,\n",{"type":20,"tag":78,"props":707,"children":708},{"class":80,"line":293},[709],{"type":20,"tag":78,"props":710,"children":711},{"style":91},[712],{"type":36,"value":713},"    relationship,\n",{"type":20,"tag":78,"props":715,"children":716},{"class":80,"line":325},[717],{"type":20,"tag":78,"props":718,"children":719},{"style":91},[720],{"type":36,"value":721},")\n",{"type":20,"tag":78,"props":723,"children":724},{"class":80,"line":333},[725],{"type":20,"tag":78,"props":726,"children":727},{"emptyLinePlaceholder":15},[728],{"type":36,"value":113},{"type":20,"tag":78,"props":730,"children":731},{"class":80,"line":342},[732,736,740,744,748],{"type":20,"tag":78,"props":733,"children":734},{"style":91},[735],{"type":36,"value":122},{"type":20,"tag":78,"props":737,"children":738},{"style":85},[739],{"type":36,"value":127},{"type":20,"tag":78,"props":741,"children":742},{"style":91},[743],{"type":36,"value":132},{"type":20,"tag":78,"props":745,"children":746},{"style":135},[747],{"type":36,"value":138},{"type":20,"tag":78,"props":749,"children":750},{"style":91},[751],{"type":36,"value":143},{"type":20,"tag":78,"props":753,"children":754},{"class":80,"line":360},[755],{"type":20,"tag":78,"props":756,"children":757},{"emptyLinePlaceholder":15},[758],{"type":36,"value":113},{"type":20,"tag":78,"props":760,"children":761},{"class":80,"line":369},[762],{"type":20,"tag":78,"props":763,"children":764},{"emptyLinePlaceholder":15},[765],{"type":36,"value":113},{"type":20,"tag":78,"props":767,"children":768},{"class":80,"line":397},[769,774,780,785,790],{"type":20,"tag":78,"props":770,"children":771},{"style":85},[772],{"type":36,"value":773},"class",{"type":20,"tag":78,"props":775,"children":777},{"style":776},"--shiki-default:#6F42C1;--shiki-dark:#B392F0",[778],{"type":36,"value":779}," Base",{"type":20,"tag":78,"props":781,"children":782},{"style":91},[783],{"type":36,"value":784},"(",{"type":20,"tag":78,"props":786,"children":787},{"style":776},[788],{"type":36,"value":789},"DeclarativeBase",{"type":20,"tag":78,"props":791,"children":792},{"style":91},[793],{"type":36,"value":794},"):\n",{"type":20,"tag":78,"props":796,"children":797},{"class":80,"line":405},[798],{"type":20,"tag":78,"props":799,"children":800},{"style":282},[801],{"type":36,"value":802},"    ...\n",{"type":20,"tag":78,"props":804,"children":805},{"class":80,"line":428},[806],{"type":20,"tag":78,"props":807,"children":808},{"emptyLinePlaceholder":15},[809],{"type":36,"value":113},{"type":20,"tag":78,"props":811,"children":812},{"class":80,"line":437},[813],{"type":20,"tag":78,"props":814,"children":815},{"emptyLinePlaceholder":15},[816],{"type":36,"value":113},{"type":20,"tag":78,"props":818,"children":819},{"class":80,"line":455},[820,824,829,833,838],{"type":20,"tag":78,"props":821,"children":822},{"style":85},[823],{"type":36,"value":773},{"type":20,"tag":78,"props":825,"children":826},{"style":776},[827],{"type":36,"value":828}," User",{"type":20,"tag":78,"props":830,"children":831},{"style":91},[832],{"type":36,"value":784},{"type":20,"tag":78,"props":834,"children":835},{"style":776},[836],{"type":36,"value":837},"Base",{"type":20,"tag":78,"props":839,"children":840},{"style":91},[841],{"type":36,"value":794},{"type":20,"tag":78,"props":843,"children":844},{"class":80,"line":464},[845,850,854],{"type":20,"tag":78,"props":846,"children":847},{"style":91},[848],{"type":36,"value":849},"    __tablename__ ",{"type":20,"tag":78,"props":851,"children":852},{"style":85},[853],{"type":36,"value":127},{"type":20,"tag":78,"props":855,"children":856},{"style":135},[857],{"type":36,"value":858}," \"user_account\"\n",{"type":20,"tag":78,"props":860,"children":861},{"class":80,"line":482},[862],{"type":20,"tag":78,"props":863,"children":864},{"emptyLinePlaceholder":15},[865],{"type":36,"value":113},{"type":20,"tag":78,"props":867,"children":868},{"class":80,"line":490},[869,874,879,884,889,893,898,904,908,913],{"type":20,"tag":78,"props":870,"children":871},{"style":282},[872],{"type":36,"value":873},"    id",{"type":20,"tag":78,"props":875,"children":876},{"style":91},[877],{"type":36,"value":878},": Mapped[",{"type":20,"tag":78,"props":880,"children":881},{"style":282},[882],{"type":36,"value":883},"int",{"type":20,"tag":78,"props":885,"children":886},{"style":91},[887],{"type":36,"value":888},"] ",{"type":20,"tag":78,"props":890,"children":891},{"style":85},[892],{"type":36,"value":127},{"type":20,"tag":78,"props":894,"children":895},{"style":91},[896],{"type":36,"value":897}," mapped_column(",{"type":20,"tag":78,"props":899,"children":901},{"style":900},"--shiki-default:#E36209;--shiki-dark:#FFAB70",[902],{"type":36,"value":903},"primary_key",{"type":20,"tag":78,"props":905,"children":906},{"style":85},[907],{"type":36,"value":127},{"type":20,"tag":78,"props":909,"children":910},{"style":282},[911],{"type":36,"value":912},"True",{"type":20,"tag":78,"props":914,"children":915},{"style":91},[916],{"type":36,"value":721},{"type":20,"tag":78,"props":918,"children":919},{"class":80,"line":524},[920,925,930],{"type":20,"tag":78,"props":921,"children":922},{"style":91},[923],{"type":36,"value":924},"    name: Mapped[",{"type":20,"tag":78,"props":926,"children":927},{"style":282},[928],{"type":36,"value":929},"str",{"type":20,"tag":78,"props":931,"children":932},{"style":91},[933],{"type":36,"value":934},"]\n",{"type":20,"tag":78,"props":936,"children":937},{"class":80,"line":533},[938,943,947],{"type":20,"tag":78,"props":939,"children":940},{"style":91},[941],{"type":36,"value":942},"    addresses: Mapped[list[Address]] ",{"type":20,"tag":78,"props":944,"children":945},{"style":85},[946],{"type":36,"value":127},{"type":20,"tag":78,"props":948,"children":949},{"style":91},[950],{"type":36,"value":951}," relationship()\n",{"type":20,"tag":78,"props":953,"children":954},{"class":80,"line":551},[955],{"type":20,"tag":78,"props":956,"children":957},{"emptyLinePlaceholder":15},[958],{"type":36,"value":113},{"type":20,"tag":78,"props":960,"children":961},{"class":80,"line":559},[962],{"type":20,"tag":78,"props":963,"children":964},{"emptyLinePlaceholder":15},[965],{"type":36,"value":113},{"type":20,"tag":78,"props":967,"children":968},{"class":80,"line":568},[969,973,978,982,986],{"type":20,"tag":78,"props":970,"children":971},{"style":85},[972],{"type":36,"value":773},{"type":20,"tag":78,"props":974,"children":975},{"style":776},[976],{"type":36,"value":977}," Address",{"type":20,"tag":78,"props":979,"children":980},{"style":91},[981],{"type":36,"value":784},{"type":20,"tag":78,"props":983,"children":984},{"style":776},[985],{"type":36,"value":837},{"type":20,"tag":78,"props":987,"children":988},{"style":91},[989],{"type":36,"value":794},{"type":20,"tag":78,"props":991,"children":993},{"class":80,"line":992},29,[994,998,1002],{"type":20,"tag":78,"props":995,"children":996},{"style":91},[997],{"type":36,"value":849},{"type":20,"tag":78,"props":999,"children":1000},{"style":85},[1001],{"type":36,"value":127},{"type":20,"tag":78,"props":1003,"children":1004},{"style":135},[1005],{"type":36,"value":1006}," \"address\"\n",{"type":20,"tag":78,"props":1008,"children":1010},{"class":80,"line":1009},30,[1011],{"type":20,"tag":78,"props":1012,"children":1013},{"emptyLinePlaceholder":15},[1014],{"type":36,"value":113},{"type":20,"tag":78,"props":1016,"children":1018},{"class":80,"line":1017},31,[1019,1023,1027,1031,1035,1039,1043,1047,1051,1055],{"type":20,"tag":78,"props":1020,"children":1021},{"style":282},[1022],{"type":36,"value":873},{"type":20,"tag":78,"props":1024,"children":1025},{"style":91},[1026],{"type":36,"value":878},{"type":20,"tag":78,"props":1028,"children":1029},{"style":282},[1030],{"type":36,"value":883},{"type":20,"tag":78,"props":1032,"children":1033},{"style":91},[1034],{"type":36,"value":888},{"type":20,"tag":78,"props":1036,"children":1037},{"style":85},[1038],{"type":36,"value":127},{"type":20,"tag":78,"props":1040,"children":1041},{"style":91},[1042],{"type":36,"value":897},{"type":20,"tag":78,"props":1044,"children":1045},{"style":900},[1046],{"type":36,"value":903},{"type":20,"tag":78,"props":1048,"children":1049},{"style":85},[1050],{"type":36,"value":127},{"type":20,"tag":78,"props":1052,"children":1053},{"style":282},[1054],{"type":36,"value":912},{"type":20,"tag":78,"props":1056,"children":1057},{"style":91},[1058],{"type":36,"value":721},{"type":20,"tag":78,"props":1060,"children":1062},{"class":80,"line":1061},32,[1063,1068,1072],{"type":20,"tag":78,"props":1064,"children":1065},{"style":91},[1066],{"type":36,"value":1067},"    email_address: Mapped[",{"type":20,"tag":78,"props":1069,"children":1070},{"style":282},[1071],{"type":36,"value":929},{"type":20,"tag":78,"props":1073,"children":1074},{"style":91},[1075],{"type":36,"value":934},{"type":20,"tag":78,"props":1077,"children":1079},{"class":80,"line":1078},33,[1080,1085,1089,1094,1099],{"type":20,"tag":78,"props":1081,"children":1082},{"style":91},[1083],{"type":36,"value":1084},"    user_id ",{"type":20,"tag":78,"props":1086,"children":1087},{"style":85},[1088],{"type":36,"value":127},{"type":20,"tag":78,"props":1090,"children":1091},{"style":91},[1092],{"type":36,"value":1093}," mapped_column(sa.ForeignKey(",{"type":20,"tag":78,"props":1095,"children":1096},{"style":135},[1097],{"type":36,"value":1098},"\"user_account.id\"",{"type":20,"tag":78,"props":1100,"children":1101},{"style":91},[1102],{"type":36,"value":143},{"type":20,"tag":78,"props":1104,"children":1106},{"class":80,"line":1105},34,[1107],{"type":20,"tag":78,"props":1108,"children":1109},{"emptyLinePlaceholder":15},[1110],{"type":36,"value":113},{"type":20,"tag":78,"props":1112,"children":1114},{"class":80,"line":1113},35,[1115],{"type":20,"tag":78,"props":1116,"children":1117},{"emptyLinePlaceholder":15},[1118],{"type":36,"value":113},{"type":20,"tag":78,"props":1120,"children":1122},{"class":80,"line":1121},36,[1123,1127,1132,1136],{"type":20,"tag":78,"props":1124,"children":1125},{"style":85},[1126],{"type":36,"value":411},{"type":20,"tag":78,"props":1128,"children":1129},{"style":91},[1130],{"type":36,"value":1131}," Session(engine) ",{"type":20,"tag":78,"props":1133,"children":1134},{"style":85},[1135],{"type":36,"value":99},{"type":20,"tag":78,"props":1137,"children":1138},{"style":91},[1139],{"type":36,"value":1140}," session:\n",{"type":20,"tag":78,"props":1142,"children":1144},{"class":80,"line":1143},37,[1145],{"type":20,"tag":78,"props":1146,"children":1147},{"style":182},[1148],{"type":36,"value":1149},"    # Select[Tuple[User, Address]]\n",{"type":20,"tag":78,"props":1151,"children":1153},{"class":80,"line":1152},38,[1154,1159,1163],{"type":20,"tag":78,"props":1155,"children":1156},{"style":91},[1157],{"type":36,"value":1158},"    stmt ",{"type":20,"tag":78,"props":1160,"children":1161},{"style":85},[1162],{"type":36,"value":127},{"type":20,"tag":78,"props":1164,"children":1165},{"style":91},[1166],{"type":36,"value":1167}," sa.select(User, Address).join_from(User, Address)\n",{"type":20,"tag":78,"props":1169,"children":1171},{"class":80,"line":1170},39,[1172],{"type":20,"tag":78,"props":1173,"children":1174},{"style":182},[1175],{"type":36,"value":1176},"    # Result[Tuple[User, Address]]\n",{"type":20,"tag":78,"props":1178,"children":1180},{"class":80,"line":1179},40,[1181,1185,1189],{"type":20,"tag":78,"props":1182,"children":1183},{"style":91},[1184],{"type":36,"value":443},{"type":20,"tag":78,"props":1186,"children":1187},{"style":85},[1188],{"type":36,"value":127},{"type":20,"tag":78,"props":1190,"children":1191},{"style":91},[1192],{"type":36,"value":1193}," session.execute(stmt)\n",{"type":20,"tag":78,"props":1195,"children":1197},{"class":80,"line":1196},41,[1198],{"type":20,"tag":78,"props":1199,"children":1200},{"style":182},[1201],{"type":36,"value":1202},"    # User, Address = Tuple[User, Address]\n",{"type":20,"tag":78,"props":1204,"children":1206},{"class":80,"line":1205},42,[1207,1212,1216],{"type":20,"tag":78,"props":1208,"children":1209},{"style":91},[1210],{"type":36,"value":1211},"    user, adderss ",{"type":20,"tag":78,"props":1213,"children":1214},{"style":85},[1215],{"type":36,"value":127},{"type":20,"tag":78,"props":1217,"children":1218},{"style":91},[1219],{"type":36,"value":1220}," result.one().tuple()\n",{"type":20,"tag":78,"props":1222,"children":1224},{"class":80,"line":1223},43,[1225],{"type":20,"tag":78,"props":1226,"children":1227},{"emptyLinePlaceholder":15},[1228],{"type":36,"value":113},{"type":20,"tag":78,"props":1230,"children":1232},{"class":80,"line":1231},44,[1233,1238,1242,1247],{"type":20,"tag":78,"props":1234,"children":1235},{"style":91},[1236],{"type":36,"value":1237},"    aliased_user ",{"type":20,"tag":78,"props":1239,"children":1240},{"style":85},[1241],{"type":36,"value":127},{"type":20,"tag":78,"props":1243,"children":1244},{"style":91},[1245],{"type":36,"value":1246}," aliased(User)  ",{"type":20,"tag":78,"props":1248,"children":1249},{"style":182},[1250],{"type":36,"value":1251},"# Type[User]\n",{"type":20,"tag":78,"props":1253,"children":1255},{"class":80,"line":1254},45,[1256],{"type":20,"tag":78,"props":1257,"children":1258},{"style":182},[1259],{"type":36,"value":1260},"    # Select[Tuple[User, User, str]]\n",{"type":20,"tag":78,"props":1262,"children":1264},{"class":80,"line":1263},46,[1265,1269,1273,1278,1282,1287],{"type":20,"tag":78,"props":1266,"children":1267},{"style":91},[1268],{"type":36,"value":1158},{"type":20,"tag":78,"props":1270,"children":1271},{"style":85},[1272],{"type":36,"value":127},{"type":20,"tag":78,"props":1274,"children":1275},{"style":91},[1276],{"type":36,"value":1277}," sa.select(User, aliased_user, User.name).where(User.id ",{"type":20,"tag":78,"props":1279,"children":1280},{"style":85},[1281],{"type":36,"value":312},{"type":20,"tag":78,"props":1283,"children":1284},{"style":282},[1285],{"type":36,"value":1286}," 5",{"type":20,"tag":78,"props":1288,"children":1289},{"style":91},[1290],{"type":36,"value":721},{"type":20,"tag":78,"props":1292,"children":1294},{"class":80,"line":1293},47,[1295],{"type":20,"tag":78,"props":1296,"children":1297},{"style":182},[1298],{"type":36,"value":1299},"    # Result[Tuple[User, User, str]]\n",{"type":20,"tag":78,"props":1301,"children":1303},{"class":80,"line":1302},48,[1304,1308,1312],{"type":20,"tag":78,"props":1305,"children":1306},{"style":91},[1307],{"type":36,"value":443},{"type":20,"tag":78,"props":1309,"children":1310},{"style":85},[1311],{"type":36,"value":127},{"type":20,"tag":78,"props":1313,"children":1314},{"style":91},[1315],{"type":36,"value":1193},{"type":20,"tag":78,"props":1317,"children":1319},{"class":80,"line":1318},49,[1320],{"type":20,"tag":78,"props":1321,"children":1322},{"emptyLinePlaceholder":15},[1323],{"type":36,"value":113},{"type":20,"tag":78,"props":1325,"children":1327},{"class":80,"line":1326},50,[1328],{"type":20,"tag":78,"props":1329,"children":1330},{"style":182},[1331],{"type":36,"value":1332},"    # User\n",{"type":20,"tag":78,"props":1334,"children":1336},{"class":80,"line":1335},51,[1337,1342,1346],{"type":20,"tag":78,"props":1338,"children":1339},{"style":91},[1340],{"type":36,"value":1341},"    user ",{"type":20,"tag":78,"props":1343,"children":1344},{"style":85},[1345],{"type":36,"value":127},{"type":20,"tag":78,"props":1347,"children":1348},{"style":91},[1349],{"type":36,"value":665},{"type":20,"tag":78,"props":1351,"children":1353},{"class":80,"line":1352},52,[1354],{"type":20,"tag":78,"props":1355,"children":1356},{"style":91},[1357],{"type":36,"value":1358},"        session.execute(\n",{"type":20,"tag":78,"props":1360,"children":1362},{"class":80,"line":1361},53,[1363,1368,1373],{"type":20,"tag":78,"props":1364,"children":1365},{"style":91},[1366],{"type":36,"value":1367},"            sa.select(User).limit(",{"type":20,"tag":78,"props":1369,"children":1370},{"style":282},[1371],{"type":36,"value":1372},"1",{"type":20,"tag":78,"props":1374,"children":1375},{"style":91},[1376],{"type":36,"value":1377},"),\n",{"type":20,"tag":78,"props":1379,"children":1381},{"class":80,"line":1380},54,[1382],{"type":20,"tag":78,"props":1383,"children":1384},{"style":91},[1385],{"type":36,"value":1386},"        )\n",{"type":20,"tag":78,"props":1388,"children":1390},{"class":80,"line":1389},55,[1391],{"type":20,"tag":78,"props":1392,"children":1393},{"style":91},[1394],{"type":36,"value":1395},"        .scalars()\n",{"type":20,"tag":78,"props":1397,"children":1399},{"class":80,"line":1398},56,[1400],{"type":20,"tag":78,"props":1401,"children":1402},{"style":91},[1403],{"type":36,"value":1404},"        .one()\n",{"type":20,"tag":78,"props":1406,"children":1408},{"class":80,"line":1407},57,[1409],{"type":20,"tag":78,"props":1410,"children":1411},{"style":91},[1412],{"type":36,"value":1413},"    )\n",{"type":20,"tag":78,"props":1415,"children":1417},{"class":80,"line":1416},58,[1418],{"type":20,"tag":78,"props":1419,"children":1420},{"style":182},[1421],{"type":36,"value":1422},"    # Sequence[User]\n",{"type":20,"tag":78,"props":1424,"children":1426},{"class":80,"line":1425},59,[1427,1432,1436],{"type":20,"tag":78,"props":1428,"children":1429},{"style":91},[1430],{"type":36,"value":1431},"    users ",{"type":20,"tag":78,"props":1433,"children":1434},{"style":85},[1435],{"type":36,"value":127},{"type":20,"tag":78,"props":1437,"children":1438},{"style":91},[1439],{"type":36,"value":665},{"type":20,"tag":78,"props":1441,"children":1443},{"class":80,"line":1442},60,[1444],{"type":20,"tag":78,"props":1445,"children":1446},{"style":91},[1447],{"type":36,"value":1358},{"type":20,"tag":78,"props":1449,"children":1451},{"class":80,"line":1450},61,[1452],{"type":20,"tag":78,"props":1453,"children":1454},{"style":91},[1455],{"type":36,"value":1456},"            sa.select(User),\n",{"type":20,"tag":78,"props":1458,"children":1460},{"class":80,"line":1459},62,[1461],{"type":20,"tag":78,"props":1462,"children":1463},{"style":91},[1464],{"type":36,"value":1386},{"type":20,"tag":78,"props":1466,"children":1468},{"class":80,"line":1467},63,[1469],{"type":20,"tag":78,"props":1470,"children":1471},{"style":91},[1472],{"type":36,"value":1395},{"type":20,"tag":78,"props":1474,"children":1476},{"class":80,"line":1475},64,[1477],{"type":20,"tag":78,"props":1478,"children":1479},{"style":91},[1480],{"type":36,"value":1481},"        .all()\n",{"type":20,"tag":78,"props":1483,"children":1485},{"class":80,"line":1484},65,[1486],{"type":20,"tag":78,"props":1487,"children":1488},{"style":91},[1489],{"type":36,"value":1413},{"type":20,"tag":78,"props":1491,"children":1493},{"class":80,"line":1492},66,[1494],{"type":20,"tag":78,"props":1495,"children":1496},{"style":182},[1497],{"type":36,"value":1498},"    # Iterator[User]\n",{"type":20,"tag":78,"props":1500,"children":1502},{"class":80,"line":1501},67,[1503,1508,1512,1517],{"type":20,"tag":78,"props":1504,"children":1505},{"style":91},[1506],{"type":36,"value":1507},"    user_iter ",{"type":20,"tag":78,"props":1509,"children":1510},{"style":85},[1511],{"type":36,"value":127},{"type":20,"tag":78,"props":1513,"children":1514},{"style":282},[1515],{"type":36,"value":1516}," iter",{"type":20,"tag":78,"props":1518,"children":1519},{"style":91},[1520],{"type":36,"value":1521},"(\n",{"type":20,"tag":78,"props":1523,"children":1525},{"class":80,"line":1524},68,[1526],{"type":20,"tag":78,"props":1527,"children":1528},{"style":91},[1529],{"type":36,"value":1358},{"type":20,"tag":78,"props":1531,"children":1533},{"class":80,"line":1532},69,[1534],{"type":20,"tag":78,"props":1535,"children":1536},{"style":91},[1537],{"type":36,"value":1456},{"type":20,"tag":78,"props":1539,"children":1541},{"class":80,"line":1540},70,[1542],{"type":20,"tag":78,"props":1543,"children":1544},{"style":91},[1545],{"type":36,"value":1546},"        ).scalars(),\n",{"type":20,"tag":78,"props":1548,"children":1550},{"class":80,"line":1549},71,[1551],{"type":20,"tag":78,"props":1552,"children":1553},{"style":91},[1554],{"type":36,"value":1413},{"type":20,"tag":41,"props":1556,"children":1558},{"id":1557},"_2-pep-681-지원",[1559],{"type":36,"value":1560},"2. PEP-681 지원",{"type":20,"tag":25,"props":1562,"children":1563},{},[1564,1566,1572,1574,1579],{"type":36,"value":1565},"선언적 모델 정의가 ",{"type":20,"tag":53,"props":1567,"children":1569},{"className":1568},[],[1570],{"type":36,"value":1571},"dataclass",{"type":36,"value":1573},"에서 강하게 영감을 받은 만큼, 모델은 그 자체로 ",{"type":20,"tag":53,"props":1575,"children":1577},{"className":1576},[],[1578],{"type":36,"value":1571},{"type":36,"value":1580},"가 될 수 있습니다.",{"type":20,"tag":69,"props":1582,"children":1584},{"className":71,"code":1583,"language":6,"meta":8,"style":8},"from __future__ import annotations\n\nfrom typing import Annotated\n\nimport sqlalchemy as sa\nfrom sqlalchemy.orm import (\n    DeclarativeBase,\n    Mapped,\n    MappedAsDataclass,\n    mapped_column,\n    relationship,\n)\n\nintpk = Annotated[int, mapped_column(primary_key=True)]\nstr30 = Annotated[str, mapped_column(sa.String(30))]\nuser_fk = Annotated[int, mapped_column(sa.ForeignKey(\"user_account.id\"))]\nengine = sa.create_engine(sa.make_url(\"sqlite://\"))\n\n\nclass Base(MappedAsDataclass, DeclarativeBase):\n    \"\"\"subclasses will be converted to dataclasses\"\"\"\n\n\nclass User(Base):\n    __tablename__ = \"user_account\"\n\n    id: Mapped[intpk] = mapped_column(init=False)\n    name: Mapped[str30]\n    fullname: Mapped[str | None] = mapped_column(default=None)\n    addresses: Mapped[list[Address]] = relationship(\n        back_populates=\"user\",\n        default_factory=list,\n    )\n\n\nclass Address(Base):\n    __tablename__ = \"address\"\n\n    id: Mapped[intpk] = mapped_column(init=False)\n    email_address: Mapped[str]\n    user_id: Mapped[user_fk] = mapped_column(init=False)\n    user: Mapped[User] = relationship(back_populates=\"addresses\", default=None)\n\n# # Address(id=None, email_address='email@address', user_id=None, user=None)\naddress = Address(email_address=\"email@address\")\n# User(\n#     id=None,\n#     name=\"username\",\n#     fullname=None,\n#     addresses=[\n#         Address(id=None, email_address=\"email@address\", user_id=None, user=...),\n#     ],\n# )\nuser = User(name=\"username\", addresses=[address])\n\n",[1585],{"type":20,"tag":53,"props":1586,"children":1587},{"__ignoreMap":8},[1588,1607,1614,1635,1642,1661,1680,1687,1694,1702,1709,1716,1723,1730,1773,1808,1841,1864,1871,1878,1911,1919,1926,1933,1956,1971,1978,2016,2024,2075,2091,2113,2134,2141,2148,2155,2178,2193,2200,2235,2250,2282,2333,2340,2348,2383,2391,2399,2407,2415,2423,2431,2439,2447],{"type":20,"tag":78,"props":1589,"children":1590},{"class":80,"line":81},[1591,1595,1599,1603],{"type":20,"tag":78,"props":1592,"children":1593},{"style":85},[1594],{"type":36,"value":603},{"type":20,"tag":78,"props":1596,"children":1597},{"style":282},[1598],{"type":36,"value":608},{"type":20,"tag":78,"props":1600,"children":1601},{"style":85},[1602],{"type":36,"value":613},{"type":20,"tag":78,"props":1604,"children":1605},{"style":91},[1606],{"type":36,"value":618},{"type":20,"tag":78,"props":1608,"children":1609},{"class":80,"line":107},[1610],{"type":20,"tag":78,"props":1611,"children":1612},{"emptyLinePlaceholder":15},[1613],{"type":36,"value":113},{"type":20,"tag":78,"props":1615,"children":1616},{"class":80,"line":116},[1617,1621,1626,1630],{"type":20,"tag":78,"props":1618,"children":1619},{"style":85},[1620],{"type":36,"value":603},{"type":20,"tag":78,"props":1622,"children":1623},{"style":91},[1624],{"type":36,"value":1625}," typing ",{"type":20,"tag":78,"props":1627,"children":1628},{"style":85},[1629],{"type":36,"value":88},{"type":20,"tag":78,"props":1631,"children":1632},{"style":91},[1633],{"type":36,"value":1634}," Annotated\n",{"type":20,"tag":78,"props":1636,"children":1637},{"class":80,"line":146},[1638],{"type":20,"tag":78,"props":1639,"children":1640},{"emptyLinePlaceholder":15},[1641],{"type":36,"value":113},{"type":20,"tag":78,"props":1643,"children":1644},{"class":80,"line":154},[1645,1649,1653,1657],{"type":20,"tag":78,"props":1646,"children":1647},{"style":85},[1648],{"type":36,"value":88},{"type":20,"tag":78,"props":1650,"children":1651},{"style":91},[1652],{"type":36,"value":94},{"type":20,"tag":78,"props":1654,"children":1655},{"style":85},[1656],{"type":36,"value":99},{"type":20,"tag":78,"props":1658,"children":1659},{"style":91},[1660],{"type":36,"value":104},{"type":20,"tag":78,"props":1662,"children":1663},{"class":80,"line":188},[1664,1668,1672,1676],{"type":20,"tag":78,"props":1665,"children":1666},{"style":85},[1667],{"type":36,"value":603},{"type":20,"tag":78,"props":1669,"children":1670},{"style":91},[1671],{"type":36,"value":656},{"type":20,"tag":78,"props":1673,"children":1674},{"style":85},[1675],{"type":36,"value":88},{"type":20,"tag":78,"props":1677,"children":1678},{"style":91},[1679],{"type":36,"value":665},{"type":20,"tag":78,"props":1681,"children":1682},{"class":80,"line":219},[1683],{"type":20,"tag":78,"props":1684,"children":1685},{"style":91},[1686],{"type":36,"value":673},{"type":20,"tag":78,"props":1688,"children":1689},{"class":80,"line":227},[1690],{"type":20,"tag":78,"props":1691,"children":1692},{"style":91},[1693],{"type":36,"value":681},{"type":20,"tag":78,"props":1695,"children":1696},{"class":80,"line":260},[1697],{"type":20,"tag":78,"props":1698,"children":1699},{"style":91},[1700],{"type":36,"value":1701},"    MappedAsDataclass,\n",{"type":20,"tag":78,"props":1703,"children":1704},{"class":80,"line":293},[1705],{"type":20,"tag":78,"props":1706,"children":1707},{"style":91},[1708],{"type":36,"value":705},{"type":20,"tag":78,"props":1710,"children":1711},{"class":80,"line":325},[1712],{"type":20,"tag":78,"props":1713,"children":1714},{"style":91},[1715],{"type":36,"value":713},{"type":20,"tag":78,"props":1717,"children":1718},{"class":80,"line":333},[1719],{"type":20,"tag":78,"props":1720,"children":1721},{"style":91},[1722],{"type":36,"value":721},{"type":20,"tag":78,"props":1724,"children":1725},{"class":80,"line":342},[1726],{"type":20,"tag":78,"props":1727,"children":1728},{"emptyLinePlaceholder":15},[1729],{"type":36,"value":113},{"type":20,"tag":78,"props":1731,"children":1732},{"class":80,"line":360},[1733,1738,1742,1747,1751,1756,1760,1764,1768],{"type":20,"tag":78,"props":1734,"children":1735},{"style":91},[1736],{"type":36,"value":1737},"intpk ",{"type":20,"tag":78,"props":1739,"children":1740},{"style":85},[1741],{"type":36,"value":127},{"type":20,"tag":78,"props":1743,"children":1744},{"style":91},[1745],{"type":36,"value":1746}," Annotated[",{"type":20,"tag":78,"props":1748,"children":1749},{"style":282},[1750],{"type":36,"value":883},{"type":20,"tag":78,"props":1752,"children":1753},{"style":91},[1754],{"type":36,"value":1755},", mapped_column(",{"type":20,"tag":78,"props":1757,"children":1758},{"style":900},[1759],{"type":36,"value":903},{"type":20,"tag":78,"props":1761,"children":1762},{"style":85},[1763],{"type":36,"value":127},{"type":20,"tag":78,"props":1765,"children":1766},{"style":282},[1767],{"type":36,"value":912},{"type":20,"tag":78,"props":1769,"children":1770},{"style":91},[1771],{"type":36,"value":1772},")]\n",{"type":20,"tag":78,"props":1774,"children":1775},{"class":80,"line":369},[1776,1781,1785,1789,1793,1798,1803],{"type":20,"tag":78,"props":1777,"children":1778},{"style":91},[1779],{"type":36,"value":1780},"str30 ",{"type":20,"tag":78,"props":1782,"children":1783},{"style":85},[1784],{"type":36,"value":127},{"type":20,"tag":78,"props":1786,"children":1787},{"style":91},[1788],{"type":36,"value":1746},{"type":20,"tag":78,"props":1790,"children":1791},{"style":282},[1792],{"type":36,"value":929},{"type":20,"tag":78,"props":1794,"children":1795},{"style":91},[1796],{"type":36,"value":1797},", mapped_column(sa.String(",{"type":20,"tag":78,"props":1799,"children":1800},{"style":282},[1801],{"type":36,"value":1802},"30",{"type":20,"tag":78,"props":1804,"children":1805},{"style":91},[1806],{"type":36,"value":1807},"))]\n",{"type":20,"tag":78,"props":1809,"children":1810},{"class":80,"line":397},[1811,1816,1820,1824,1828,1833,1837],{"type":20,"tag":78,"props":1812,"children":1813},{"style":91},[1814],{"type":36,"value":1815},"user_fk ",{"type":20,"tag":78,"props":1817,"children":1818},{"style":85},[1819],{"type":36,"value":127},{"type":20,"tag":78,"props":1821,"children":1822},{"style":91},[1823],{"type":36,"value":1746},{"type":20,"tag":78,"props":1825,"children":1826},{"style":282},[1827],{"type":36,"value":883},{"type":20,"tag":78,"props":1829,"children":1830},{"style":91},[1831],{"type":36,"value":1832},", mapped_column(sa.ForeignKey(",{"type":20,"tag":78,"props":1834,"children":1835},{"style":135},[1836],{"type":36,"value":1098},{"type":20,"tag":78,"props":1838,"children":1839},{"style":91},[1840],{"type":36,"value":1807},{"type":20,"tag":78,"props":1842,"children":1843},{"class":80,"line":405},[1844,1848,1852,1856,1860],{"type":20,"tag":78,"props":1845,"children":1846},{"style":91},[1847],{"type":36,"value":122},{"type":20,"tag":78,"props":1849,"children":1850},{"style":85},[1851],{"type":36,"value":127},{"type":20,"tag":78,"props":1853,"children":1854},{"style":91},[1855],{"type":36,"value":132},{"type":20,"tag":78,"props":1857,"children":1858},{"style":135},[1859],{"type":36,"value":138},{"type":20,"tag":78,"props":1861,"children":1862},{"style":91},[1863],{"type":36,"value":143},{"type":20,"tag":78,"props":1865,"children":1866},{"class":80,"line":428},[1867],{"type":20,"tag":78,"props":1868,"children":1869},{"emptyLinePlaceholder":15},[1870],{"type":36,"value":113},{"type":20,"tag":78,"props":1872,"children":1873},{"class":80,"line":437},[1874],{"type":20,"tag":78,"props":1875,"children":1876},{"emptyLinePlaceholder":15},[1877],{"type":36,"value":113},{"type":20,"tag":78,"props":1879,"children":1880},{"class":80,"line":455},[1881,1885,1889,1893,1898,1903,1907],{"type":20,"tag":78,"props":1882,"children":1883},{"style":85},[1884],{"type":36,"value":773},{"type":20,"tag":78,"props":1886,"children":1887},{"style":776},[1888],{"type":36,"value":779},{"type":20,"tag":78,"props":1890,"children":1891},{"style":91},[1892],{"type":36,"value":784},{"type":20,"tag":78,"props":1894,"children":1895},{"style":776},[1896],{"type":36,"value":1897},"MappedAsDataclass",{"type":20,"tag":78,"props":1899,"children":1900},{"style":91},[1901],{"type":36,"value":1902},", ",{"type":20,"tag":78,"props":1904,"children":1905},{"style":776},[1906],{"type":36,"value":789},{"type":20,"tag":78,"props":1908,"children":1909},{"style":91},[1910],{"type":36,"value":794},{"type":20,"tag":78,"props":1912,"children":1913},{"class":80,"line":464},[1914],{"type":20,"tag":78,"props":1915,"children":1916},{"style":135},[1917],{"type":36,"value":1918},"    \"\"\"subclasses will be converted to dataclasses\"\"\"\n",{"type":20,"tag":78,"props":1920,"children":1921},{"class":80,"line":482},[1922],{"type":20,"tag":78,"props":1923,"children":1924},{"emptyLinePlaceholder":15},[1925],{"type":36,"value":113},{"type":20,"tag":78,"props":1927,"children":1928},{"class":80,"line":490},[1929],{"type":20,"tag":78,"props":1930,"children":1931},{"emptyLinePlaceholder":15},[1932],{"type":36,"value":113},{"type":20,"tag":78,"props":1934,"children":1935},{"class":80,"line":524},[1936,1940,1944,1948,1952],{"type":20,"tag":78,"props":1937,"children":1938},{"style":85},[1939],{"type":36,"value":773},{"type":20,"tag":78,"props":1941,"children":1942},{"style":776},[1943],{"type":36,"value":828},{"type":20,"tag":78,"props":1945,"children":1946},{"style":91},[1947],{"type":36,"value":784},{"type":20,"tag":78,"props":1949,"children":1950},{"style":776},[1951],{"type":36,"value":837},{"type":20,"tag":78,"props":1953,"children":1954},{"style":91},[1955],{"type":36,"value":794},{"type":20,"tag":78,"props":1957,"children":1958},{"class":80,"line":533},[1959,1963,1967],{"type":20,"tag":78,"props":1960,"children":1961},{"style":91},[1962],{"type":36,"value":849},{"type":20,"tag":78,"props":1964,"children":1965},{"style":85},[1966],{"type":36,"value":127},{"type":20,"tag":78,"props":1968,"children":1969},{"style":135},[1970],{"type":36,"value":858},{"type":20,"tag":78,"props":1972,"children":1973},{"class":80,"line":551},[1974],{"type":20,"tag":78,"props":1975,"children":1976},{"emptyLinePlaceholder":15},[1977],{"type":36,"value":113},{"type":20,"tag":78,"props":1979,"children":1980},{"class":80,"line":559},[1981,1985,1990,1994,1998,2003,2007,2012],{"type":20,"tag":78,"props":1982,"children":1983},{"style":282},[1984],{"type":36,"value":873},{"type":20,"tag":78,"props":1986,"children":1987},{"style":91},[1988],{"type":36,"value":1989},": Mapped[intpk] ",{"type":20,"tag":78,"props":1991,"children":1992},{"style":85},[1993],{"type":36,"value":127},{"type":20,"tag":78,"props":1995,"children":1996},{"style":91},[1997],{"type":36,"value":897},{"type":20,"tag":78,"props":1999,"children":2000},{"style":900},[2001],{"type":36,"value":2002},"init",{"type":20,"tag":78,"props":2004,"children":2005},{"style":85},[2006],{"type":36,"value":127},{"type":20,"tag":78,"props":2008,"children":2009},{"style":282},[2010],{"type":36,"value":2011},"False",{"type":20,"tag":78,"props":2013,"children":2014},{"style":91},[2015],{"type":36,"value":721},{"type":20,"tag":78,"props":2017,"children":2018},{"class":80,"line":568},[2019],{"type":20,"tag":78,"props":2020,"children":2021},{"style":91},[2022],{"type":36,"value":2023},"    name: Mapped[str30]\n",{"type":20,"tag":78,"props":2025,"children":2026},{"class":80,"line":992},[2027,2032,2036,2041,2045,2049,2053,2057,2062,2066,2071],{"type":20,"tag":78,"props":2028,"children":2029},{"style":91},[2030],{"type":36,"value":2031},"    fullname: Mapped[",{"type":20,"tag":78,"props":2033,"children":2034},{"style":282},[2035],{"type":36,"value":929},{"type":20,"tag":78,"props":2037,"children":2038},{"style":85},[2039],{"type":36,"value":2040}," |",{"type":20,"tag":78,"props":2042,"children":2043},{"style":282},[2044],{"type":36,"value":516},{"type":20,"tag":78,"props":2046,"children":2047},{"style":91},[2048],{"type":36,"value":888},{"type":20,"tag":78,"props":2050,"children":2051},{"style":85},[2052],{"type":36,"value":127},{"type":20,"tag":78,"props":2054,"children":2055},{"style":91},[2056],{"type":36,"value":897},{"type":20,"tag":78,"props":2058,"children":2059},{"style":900},[2060],{"type":36,"value":2061},"default",{"type":20,"tag":78,"props":2063,"children":2064},{"style":85},[2065],{"type":36,"value":127},{"type":20,"tag":78,"props":2067,"children":2068},{"style":282},[2069],{"type":36,"value":2070},"None",{"type":20,"tag":78,"props":2072,"children":2073},{"style":91},[2074],{"type":36,"value":721},{"type":20,"tag":78,"props":2076,"children":2077},{"class":80,"line":1009},[2078,2082,2086],{"type":20,"tag":78,"props":2079,"children":2080},{"style":91},[2081],{"type":36,"value":942},{"type":20,"tag":78,"props":2083,"children":2084},{"style":85},[2085],{"type":36,"value":127},{"type":20,"tag":78,"props":2087,"children":2088},{"style":91},[2089],{"type":36,"value":2090}," relationship(\n",{"type":20,"tag":78,"props":2092,"children":2093},{"class":80,"line":1017},[2094,2099,2103,2108],{"type":20,"tag":78,"props":2095,"children":2096},{"style":900},[2097],{"type":36,"value":2098},"        back_populates",{"type":20,"tag":78,"props":2100,"children":2101},{"style":85},[2102],{"type":36,"value":127},{"type":20,"tag":78,"props":2104,"children":2105},{"style":135},[2106],{"type":36,"value":2107},"\"user\"",{"type":20,"tag":78,"props":2109,"children":2110},{"style":91},[2111],{"type":36,"value":2112},",\n",{"type":20,"tag":78,"props":2114,"children":2115},{"class":80,"line":1061},[2116,2121,2125,2130],{"type":20,"tag":78,"props":2117,"children":2118},{"style":900},[2119],{"type":36,"value":2120},"        default_factory",{"type":20,"tag":78,"props":2122,"children":2123},{"style":85},[2124],{"type":36,"value":127},{"type":20,"tag":78,"props":2126,"children":2127},{"style":282},[2128],{"type":36,"value":2129},"list",{"type":20,"tag":78,"props":2131,"children":2132},{"style":91},[2133],{"type":36,"value":2112},{"type":20,"tag":78,"props":2135,"children":2136},{"class":80,"line":1078},[2137],{"type":20,"tag":78,"props":2138,"children":2139},{"style":91},[2140],{"type":36,"value":1413},{"type":20,"tag":78,"props":2142,"children":2143},{"class":80,"line":1105},[2144],{"type":20,"tag":78,"props":2145,"children":2146},{"emptyLinePlaceholder":15},[2147],{"type":36,"value":113},{"type":20,"tag":78,"props":2149,"children":2150},{"class":80,"line":1113},[2151],{"type":20,"tag":78,"props":2152,"children":2153},{"emptyLinePlaceholder":15},[2154],{"type":36,"value":113},{"type":20,"tag":78,"props":2156,"children":2157},{"class":80,"line":1121},[2158,2162,2166,2170,2174],{"type":20,"tag":78,"props":2159,"children":2160},{"style":85},[2161],{"type":36,"value":773},{"type":20,"tag":78,"props":2163,"children":2164},{"style":776},[2165],{"type":36,"value":977},{"type":20,"tag":78,"props":2167,"children":2168},{"style":91},[2169],{"type":36,"value":784},{"type":20,"tag":78,"props":2171,"children":2172},{"style":776},[2173],{"type":36,"value":837},{"type":20,"tag":78,"props":2175,"children":2176},{"style":91},[2177],{"type":36,"value":794},{"type":20,"tag":78,"props":2179,"children":2180},{"class":80,"line":1143},[2181,2185,2189],{"type":20,"tag":78,"props":2182,"children":2183},{"style":91},[2184],{"type":36,"value":849},{"type":20,"tag":78,"props":2186,"children":2187},{"style":85},[2188],{"type":36,"value":127},{"type":20,"tag":78,"props":2190,"children":2191},{"style":135},[2192],{"type":36,"value":1006},{"type":20,"tag":78,"props":2194,"children":2195},{"class":80,"line":1152},[2196],{"type":20,"tag":78,"props":2197,"children":2198},{"emptyLinePlaceholder":15},[2199],{"type":36,"value":113},{"type":20,"tag":78,"props":2201,"children":2202},{"class":80,"line":1170},[2203,2207,2211,2215,2219,2223,2227,2231],{"type":20,"tag":78,"props":2204,"children":2205},{"style":282},[2206],{"type":36,"value":873},{"type":20,"tag":78,"props":2208,"children":2209},{"style":91},[2210],{"type":36,"value":1989},{"type":20,"tag":78,"props":2212,"children":2213},{"style":85},[2214],{"type":36,"value":127},{"type":20,"tag":78,"props":2216,"children":2217},{"style":91},[2218],{"type":36,"value":897},{"type":20,"tag":78,"props":2220,"children":2221},{"style":900},[2222],{"type":36,"value":2002},{"type":20,"tag":78,"props":2224,"children":2225},{"style":85},[2226],{"type":36,"value":127},{"type":20,"tag":78,"props":2228,"children":2229},{"style":282},[2230],{"type":36,"value":2011},{"type":20,"tag":78,"props":2232,"children":2233},{"style":91},[2234],{"type":36,"value":721},{"type":20,"tag":78,"props":2236,"children":2237},{"class":80,"line":1179},[2238,2242,2246],{"type":20,"tag":78,"props":2239,"children":2240},{"style":91},[2241],{"type":36,"value":1067},{"type":20,"tag":78,"props":2243,"children":2244},{"style":282},[2245],{"type":36,"value":929},{"type":20,"tag":78,"props":2247,"children":2248},{"style":91},[2249],{"type":36,"value":934},{"type":20,"tag":78,"props":2251,"children":2252},{"class":80,"line":1196},[2253,2258,2262,2266,2270,2274,2278],{"type":20,"tag":78,"props":2254,"children":2255},{"style":91},[2256],{"type":36,"value":2257},"    user_id: Mapped[user_fk] ",{"type":20,"tag":78,"props":2259,"children":2260},{"style":85},[2261],{"type":36,"value":127},{"type":20,"tag":78,"props":2263,"children":2264},{"style":91},[2265],{"type":36,"value":897},{"type":20,"tag":78,"props":2267,"children":2268},{"style":900},[2269],{"type":36,"value":2002},{"type":20,"tag":78,"props":2271,"children":2272},{"style":85},[2273],{"type":36,"value":127},{"type":20,"tag":78,"props":2275,"children":2276},{"style":282},[2277],{"type":36,"value":2011},{"type":20,"tag":78,"props":2279,"children":2280},{"style":91},[2281],{"type":36,"value":721},{"type":20,"tag":78,"props":2283,"children":2284},{"class":80,"line":1205},[2285,2290,2294,2299,2304,2308,2313,2317,2321,2325,2329],{"type":20,"tag":78,"props":2286,"children":2287},{"style":91},[2288],{"type":36,"value":2289},"    user: Mapped[User] ",{"type":20,"tag":78,"props":2291,"children":2292},{"style":85},[2293],{"type":36,"value":127},{"type":20,"tag":78,"props":2295,"children":2296},{"style":91},[2297],{"type":36,"value":2298}," relationship(",{"type":20,"tag":78,"props":2300,"children":2301},{"style":900},[2302],{"type":36,"value":2303},"back_populates",{"type":20,"tag":78,"props":2305,"children":2306},{"style":85},[2307],{"type":36,"value":127},{"type":20,"tag":78,"props":2309,"children":2310},{"style":135},[2311],{"type":36,"value":2312},"\"addresses\"",{"type":20,"tag":78,"props":2314,"children":2315},{"style":91},[2316],{"type":36,"value":1902},{"type":20,"tag":78,"props":2318,"children":2319},{"style":900},[2320],{"type":36,"value":2061},{"type":20,"tag":78,"props":2322,"children":2323},{"style":85},[2324],{"type":36,"value":127},{"type":20,"tag":78,"props":2326,"children":2327},{"style":282},[2328],{"type":36,"value":2070},{"type":20,"tag":78,"props":2330,"children":2331},{"style":91},[2332],{"type":36,"value":721},{"type":20,"tag":78,"props":2334,"children":2335},{"class":80,"line":1223},[2336],{"type":20,"tag":78,"props":2337,"children":2338},{"emptyLinePlaceholder":15},[2339],{"type":36,"value":113},{"type":20,"tag":78,"props":2341,"children":2342},{"class":80,"line":1231},[2343],{"type":20,"tag":78,"props":2344,"children":2345},{"style":182},[2346],{"type":36,"value":2347},"# # Address(id=None, email_address='email@address', user_id=None, user=None)\n",{"type":20,"tag":78,"props":2349,"children":2350},{"class":80,"line":1254},[2351,2356,2360,2365,2370,2374,2379],{"type":20,"tag":78,"props":2352,"children":2353},{"style":91},[2354],{"type":36,"value":2355},"address ",{"type":20,"tag":78,"props":2357,"children":2358},{"style":85},[2359],{"type":36,"value":127},{"type":20,"tag":78,"props":2361,"children":2362},{"style":91},[2363],{"type":36,"value":2364}," Address(",{"type":20,"tag":78,"props":2366,"children":2367},{"style":900},[2368],{"type":36,"value":2369},"email_address",{"type":20,"tag":78,"props":2371,"children":2372},{"style":85},[2373],{"type":36,"value":127},{"type":20,"tag":78,"props":2375,"children":2376},{"style":135},[2377],{"type":36,"value":2378},"\"email@address\"",{"type":20,"tag":78,"props":2380,"children":2381},{"style":91},[2382],{"type":36,"value":721},{"type":20,"tag":78,"props":2384,"children":2385},{"class":80,"line":1263},[2386],{"type":20,"tag":78,"props":2387,"children":2388},{"style":182},[2389],{"type":36,"value":2390},"# User(\n",{"type":20,"tag":78,"props":2392,"children":2393},{"class":80,"line":1293},[2394],{"type":20,"tag":78,"props":2395,"children":2396},{"style":182},[2397],{"type":36,"value":2398},"#     id=None,\n",{"type":20,"tag":78,"props":2400,"children":2401},{"class":80,"line":1302},[2402],{"type":20,"tag":78,"props":2403,"children":2404},{"style":182},[2405],{"type":36,"value":2406},"#     name=\"username\",\n",{"type":20,"tag":78,"props":2408,"children":2409},{"class":80,"line":1318},[2410],{"type":20,"tag":78,"props":2411,"children":2412},{"style":182},[2413],{"type":36,"value":2414},"#     fullname=None,\n",{"type":20,"tag":78,"props":2416,"children":2417},{"class":80,"line":1326},[2418],{"type":20,"tag":78,"props":2419,"children":2420},{"style":182},[2421],{"type":36,"value":2422},"#     addresses=[\n",{"type":20,"tag":78,"props":2424,"children":2425},{"class":80,"line":1335},[2426],{"type":20,"tag":78,"props":2427,"children":2428},{"style":182},[2429],{"type":36,"value":2430},"#         Address(id=None, email_address=\"email@address\", user_id=None, user=...),\n",{"type":20,"tag":78,"props":2432,"children":2433},{"class":80,"line":1352},[2434],{"type":20,"tag":78,"props":2435,"children":2436},{"style":182},[2437],{"type":36,"value":2438},"#     ],\n",{"type":20,"tag":78,"props":2440,"children":2441},{"class":80,"line":1361},[2442],{"type":20,"tag":78,"props":2443,"children":2444},{"style":182},[2445],{"type":36,"value":2446},"# )\n",{"type":20,"tag":78,"props":2448,"children":2449},{"class":80,"line":1380},[2450,2455,2459,2464,2469,2473,2478,2482,2487,2491],{"type":20,"tag":78,"props":2451,"children":2452},{"style":91},[2453],{"type":36,"value":2454},"user ",{"type":20,"tag":78,"props":2456,"children":2457},{"style":85},[2458],{"type":36,"value":127},{"type":20,"tag":78,"props":2460,"children":2461},{"style":91},[2462],{"type":36,"value":2463}," User(",{"type":20,"tag":78,"props":2465,"children":2466},{"style":900},[2467],{"type":36,"value":2468},"name",{"type":20,"tag":78,"props":2470,"children":2471},{"style":85},[2472],{"type":36,"value":127},{"type":20,"tag":78,"props":2474,"children":2475},{"style":135},[2476],{"type":36,"value":2477},"\"username\"",{"type":20,"tag":78,"props":2479,"children":2480},{"style":91},[2481],{"type":36,"value":1902},{"type":20,"tag":78,"props":2483,"children":2484},{"style":900},[2485],{"type":36,"value":2486},"addresses",{"type":20,"tag":78,"props":2488,"children":2489},{"style":85},[2490],{"type":36,"value":127},{"type":20,"tag":78,"props":2492,"children":2493},{"style":91},[2494],{"type":36,"value":2495},"[address])\n",{"type":20,"tag":41,"props":2497,"children":2499},{"id":2498},"_3-최적화된-bulk-insertmysql-제외-mariadb-포함",[2500,2502,2508,2510,2516],{"type":36,"value":2501},"3. 최적화된 bulk insert(",{"type":20,"tag":53,"props":2503,"children":2505},{"className":2504},[],[2506],{"type":36,"value":2507},"MySQL",{"type":36,"value":2509}," 제외, ",{"type":20,"tag":53,"props":2511,"children":2513},{"className":2512},[],[2514],{"type":36,"value":2515},"MariaDB",{"type":36,"value":2517}," 포함)",{"type":20,"tag":25,"props":2519,"children":2520},{},[2521,2527],{"type":20,"tag":53,"props":2522,"children":2524},{"className":2523},[],[2525],{"type":36,"value":2526},"RETURNING",{"type":36,"value":2528},"을 지원하는 모든 백엔드에 대한 성능 향상이 이뤄졌는데 그 차이가 상당히 극적입니다.",{"type":20,"tag":25,"props":2530,"children":2531},{},[2532],{"type":36,"value":2533},"벤치마크는 다음 코드로 진행됐습니다.",{"type":20,"tag":69,"props":2535,"children":2537},{"className":71,"code":2536,"language":6,"meta":8,"style":8},"@Profiler.profile\ndef test_flush_no_pk(n):\n    \"\"\"INSERT statements via the ORM (batched with RETURNING if available),\n    fetching generated row id\"\"\"\n    session = Session(bind=engine)\n    for chunk in range(0, n, 1000):\n        session.add_all(\n            [\n                Customer(\n                    name=\"customer name %d\" % i,\n                    description=\"customer description %d\" % i,\n                )\n                for i in range(chunk, chunk + 1000)\n            ]\n        )\n        session.flush()\n    session.commit()\n",[2538],{"type":20,"tag":53,"props":2539,"children":2540},{"__ignoreMap":8},[2541,2549,2567,2575,2583,2614,2660,2668,2676,2684,2721,2754,2762,2801,2809,2816,2824],{"type":20,"tag":78,"props":2542,"children":2543},{"class":80,"line":81},[2544],{"type":20,"tag":78,"props":2545,"children":2546},{"style":776},[2547],{"type":36,"value":2548},"@Profiler.profile\n",{"type":20,"tag":78,"props":2550,"children":2551},{"class":80,"line":107},[2552,2557,2562],{"type":20,"tag":78,"props":2553,"children":2554},{"style":85},[2555],{"type":36,"value":2556},"def",{"type":20,"tag":78,"props":2558,"children":2559},{"style":776},[2560],{"type":36,"value":2561}," test_flush_no_pk",{"type":20,"tag":78,"props":2563,"children":2564},{"style":91},[2565],{"type":36,"value":2566},"(n):\n",{"type":20,"tag":78,"props":2568,"children":2569},{"class":80,"line":116},[2570],{"type":20,"tag":78,"props":2571,"children":2572},{"style":135},[2573],{"type":36,"value":2574},"    \"\"\"INSERT statements via the ORM (batched with RETURNING if available),\n",{"type":20,"tag":78,"props":2576,"children":2577},{"class":80,"line":146},[2578],{"type":20,"tag":78,"props":2579,"children":2580},{"style":135},[2581],{"type":36,"value":2582},"    fetching generated row id\"\"\"\n",{"type":20,"tag":78,"props":2584,"children":2585},{"class":80,"line":154},[2586,2591,2595,2600,2605,2609],{"type":20,"tag":78,"props":2587,"children":2588},{"style":91},[2589],{"type":36,"value":2590},"    session ",{"type":20,"tag":78,"props":2592,"children":2593},{"style":85},[2594],{"type":36,"value":127},{"type":20,"tag":78,"props":2596,"children":2597},{"style":91},[2598],{"type":36,"value":2599}," Session(",{"type":20,"tag":78,"props":2601,"children":2602},{"style":900},[2603],{"type":36,"value":2604},"bind",{"type":20,"tag":78,"props":2606,"children":2607},{"style":85},[2608],{"type":36,"value":127},{"type":20,"tag":78,"props":2610,"children":2611},{"style":91},[2612],{"type":36,"value":2613},"engine)\n",{"type":20,"tag":78,"props":2615,"children":2616},{"class":80,"line":188},[2617,2622,2627,2632,2637,2641,2646,2651,2656],{"type":20,"tag":78,"props":2618,"children":2619},{"style":85},[2620],{"type":36,"value":2621},"    for",{"type":20,"tag":78,"props":2623,"children":2624},{"style":91},[2625],{"type":36,"value":2626}," chunk ",{"type":20,"tag":78,"props":2628,"children":2629},{"style":85},[2630],{"type":36,"value":2631},"in",{"type":20,"tag":78,"props":2633,"children":2634},{"style":282},[2635],{"type":36,"value":2636}," range",{"type":20,"tag":78,"props":2638,"children":2639},{"style":91},[2640],{"type":36,"value":784},{"type":20,"tag":78,"props":2642,"children":2643},{"style":282},[2644],{"type":36,"value":2645},"0",{"type":20,"tag":78,"props":2647,"children":2648},{"style":91},[2649],{"type":36,"value":2650},", n, ",{"type":20,"tag":78,"props":2652,"children":2653},{"style":282},[2654],{"type":36,"value":2655},"1000",{"type":20,"tag":78,"props":2657,"children":2658},{"style":91},[2659],{"type":36,"value":794},{"type":20,"tag":78,"props":2661,"children":2662},{"class":80,"line":219},[2663],{"type":20,"tag":78,"props":2664,"children":2665},{"style":91},[2666],{"type":36,"value":2667},"        session.add_all(\n",{"type":20,"tag":78,"props":2669,"children":2670},{"class":80,"line":227},[2671],{"type":20,"tag":78,"props":2672,"children":2673},{"style":91},[2674],{"type":36,"value":2675},"            [\n",{"type":20,"tag":78,"props":2677,"children":2678},{"class":80,"line":260},[2679],{"type":20,"tag":78,"props":2680,"children":2681},{"style":91},[2682],{"type":36,"value":2683},"                Customer(\n",{"type":20,"tag":78,"props":2685,"children":2686},{"class":80,"line":293},[2687,2692,2696,2701,2706,2711,2716],{"type":20,"tag":78,"props":2688,"children":2689},{"style":900},[2690],{"type":36,"value":2691},"                    name",{"type":20,"tag":78,"props":2693,"children":2694},{"style":85},[2695],{"type":36,"value":127},{"type":20,"tag":78,"props":2697,"children":2698},{"style":135},[2699],{"type":36,"value":2700},"\"customer name ",{"type":20,"tag":78,"props":2702,"children":2703},{"style":282},[2704],{"type":36,"value":2705},"%d",{"type":20,"tag":78,"props":2707,"children":2708},{"style":135},[2709],{"type":36,"value":2710},"\"",{"type":20,"tag":78,"props":2712,"children":2713},{"style":85},[2714],{"type":36,"value":2715}," %",{"type":20,"tag":78,"props":2717,"children":2718},{"style":91},[2719],{"type":36,"value":2720}," i,\n",{"type":20,"tag":78,"props":2722,"children":2723},{"class":80,"line":325},[2724,2729,2733,2738,2742,2746,2750],{"type":20,"tag":78,"props":2725,"children":2726},{"style":900},[2727],{"type":36,"value":2728},"                    description",{"type":20,"tag":78,"props":2730,"children":2731},{"style":85},[2732],{"type":36,"value":127},{"type":20,"tag":78,"props":2734,"children":2735},{"style":135},[2736],{"type":36,"value":2737},"\"customer description ",{"type":20,"tag":78,"props":2739,"children":2740},{"style":282},[2741],{"type":36,"value":2705},{"type":20,"tag":78,"props":2743,"children":2744},{"style":135},[2745],{"type":36,"value":2710},{"type":20,"tag":78,"props":2747,"children":2748},{"style":85},[2749],{"type":36,"value":2715},{"type":20,"tag":78,"props":2751,"children":2752},{"style":91},[2753],{"type":36,"value":2720},{"type":20,"tag":78,"props":2755,"children":2756},{"class":80,"line":333},[2757],{"type":20,"tag":78,"props":2758,"children":2759},{"style":91},[2760],{"type":36,"value":2761},"                )\n",{"type":20,"tag":78,"props":2763,"children":2764},{"class":80,"line":342},[2765,2770,2775,2779,2783,2788,2792,2797],{"type":20,"tag":78,"props":2766,"children":2767},{"style":85},[2768],{"type":36,"value":2769},"                for",{"type":20,"tag":78,"props":2771,"children":2772},{"style":91},[2773],{"type":36,"value":2774}," i ",{"type":20,"tag":78,"props":2776,"children":2777},{"style":85},[2778],{"type":36,"value":2631},{"type":20,"tag":78,"props":2780,"children":2781},{"style":282},[2782],{"type":36,"value":2636},{"type":20,"tag":78,"props":2784,"children":2785},{"style":91},[2786],{"type":36,"value":2787},"(chunk, chunk ",{"type":20,"tag":78,"props":2789,"children":2790},{"style":85},[2791],{"type":36,"value":247},{"type":20,"tag":78,"props":2793,"children":2794},{"style":282},[2795],{"type":36,"value":2796}," 1000",{"type":20,"tag":78,"props":2798,"children":2799},{"style":91},[2800],{"type":36,"value":721},{"type":20,"tag":78,"props":2802,"children":2803},{"class":80,"line":360},[2804],{"type":20,"tag":78,"props":2805,"children":2806},{"style":91},[2807],{"type":36,"value":2808},"            ]\n",{"type":20,"tag":78,"props":2810,"children":2811},{"class":80,"line":369},[2812],{"type":20,"tag":78,"props":2813,"children":2814},{"style":91},[2815],{"type":36,"value":1386},{"type":20,"tag":78,"props":2817,"children":2818},{"class":80,"line":397},[2819],{"type":20,"tag":78,"props":2820,"children":2821},{"style":91},[2822],{"type":36,"value":2823},"        session.flush()\n",{"type":20,"tag":78,"props":2825,"children":2826},{"class":80,"line":405},[2827],{"type":20,"tag":78,"props":2828,"children":2829},{"style":91},[2830],{"type":36,"value":2831},"    session.commit()\n",{"type":20,"tag":25,"props":2833,"children":2834},{},[2835],{"type":36,"value":2836},"벤치마크 결과는 다음과 같습니다.",{"type":20,"tag":2838,"props":2839,"children":2840},"table",{},[2841,2866],{"type":20,"tag":2842,"props":2843,"children":2844},"thead",{},[2845],{"type":20,"tag":2846,"props":2847,"children":2848},"tr",{},[2849,2856,2861],{"type":20,"tag":2850,"props":2851,"children":2853},"th",{"align":2852},"center",[2854],{"type":36,"value":2855},"driver",{"type":20,"tag":2850,"props":2857,"children":2858},{"align":2852},[2859],{"type":36,"value":2860},"sqlalchemy1.4(초)",{"type":20,"tag":2850,"props":2862,"children":2863},{"align":2852},[2864],{"type":36,"value":2865},"sqlalchemy2.0(초)",{"type":20,"tag":2867,"props":2868,"children":2869},"tbody",{},[2870,2889,2907,2925,2943,2961],{"type":20,"tag":2846,"props":2871,"children":2872},{},[2873,2879,2884],{"type":20,"tag":2874,"props":2875,"children":2876},"td",{"align":2852},[2877],{"type":36,"value":2878},"sqlite+pysqlite2 (memory)",{"type":20,"tag":2874,"props":2880,"children":2881},{"align":2852},[2882],{"type":36,"value":2883},"6.204843",{"type":20,"tag":2874,"props":2885,"children":2886},{"align":2852},[2887],{"type":36,"value":2888},"3.554856",{"type":20,"tag":2846,"props":2890,"children":2891},{},[2892,2897,2902],{"type":20,"tag":2874,"props":2893,"children":2894},{"align":2852},[2895],{"type":36,"value":2896},"postgresql+psycopg2 (network)",{"type":20,"tag":2874,"props":2898,"children":2899},{"align":2852},[2900],{"type":36,"value":2901},"4.704876",{"type":20,"tag":2874,"props":2903,"children":2904},{"align":2852},[2905],{"type":36,"value":2906},"4.699883",{"type":20,"tag":2846,"props":2908,"children":2909},{},[2910,2915,2920],{"type":20,"tag":2874,"props":2911,"children":2912},{"align":2852},[2913],{"type":36,"value":2914},"postgresql+asyncpg (network)",{"type":20,"tag":2874,"props":2916,"children":2917},{"align":2852},[2918],{"type":36,"value":2919},"88.292285",{"type":20,"tag":2874,"props":2921,"children":2922},{"align":2852},[2923],{"type":36,"value":2924},"4.561492",{"type":20,"tag":2846,"props":2926,"children":2927},{},[2928,2933,2938],{"type":20,"tag":2874,"props":2929,"children":2930},{"align":2852},[2931],{"type":36,"value":2932},"oracle+cx_Oracle (network)",{"type":20,"tag":2874,"props":2934,"children":2935},{"align":2852},[2936],{"type":36,"value":2937},"92.603953",{"type":20,"tag":2874,"props":2939,"children":2940},{"align":2852},[2941],{"type":36,"value":2942},"4.809520",{"type":20,"tag":2846,"props":2944,"children":2945},{},[2946,2951,2956],{"type":20,"tag":2874,"props":2947,"children":2948},{"align":2852},[2949],{"type":36,"value":2950},"mssql+pyodbc (network)",{"type":20,"tag":2874,"props":2952,"children":2953},{"align":2852},[2954],{"type":36,"value":2955},"158.396667",{"type":20,"tag":2874,"props":2957,"children":2958},{"align":2852},[2959],{"type":36,"value":2960},"4.825139",{"type":20,"tag":2846,"props":2962,"children":2963},{},[2964,2969,2974],{"type":20,"tag":2874,"props":2965,"children":2966},{"align":2852},[2967],{"type":36,"value":2968},"mariadb+mysqldb (network)",{"type":20,"tag":2874,"props":2970,"children":2971},{"align":2852},[2972],{"type":36,"value":2973},"71.705197",{"type":20,"tag":2874,"props":2975,"children":2976},{"align":2852},[2977],{"type":36,"value":2978},"4.075377",{"type":20,"tag":25,"props":2980,"children":2981},{},[2982,2987,2989,2994,2996,3002],{"type":20,"tag":53,"props":2983,"children":2985},{"className":2984},[],[2986],{"type":36,"value":2526},{"type":36,"value":2988},"을 지원하지 않는 ",{"type":20,"tag":53,"props":2990,"children":2992},{"className":2991},[],[2993],{"type":36,"value":2507},{"type":36,"value":2995},"과 2.0부터 지원하는 ",{"type":20,"tag":53,"props":2997,"children":2999},{"className":2998},[],[3000],{"type":36,"value":3001},"psycopg3",{"type":36,"value":3003},"의 벤치마크 결과는 다음과 같습니다.",{"type":20,"tag":2838,"props":3005,"children":3006},{},[3007,3025],{"type":20,"tag":2842,"props":3008,"children":3009},{},[3010],{"type":20,"tag":2846,"props":3011,"children":3012},{},[3013,3017,3021],{"type":20,"tag":2850,"props":3014,"children":3015},{"align":2852},[3016],{"type":36,"value":2855},{"type":20,"tag":2850,"props":3018,"children":3019},{"align":2852},[3020],{"type":36,"value":2860},{"type":20,"tag":2850,"props":3022,"children":3023},{"align":2852},[3024],{"type":36,"value":2865},{"type":20,"tag":2867,"props":3026,"children":3027},{},[3028,3046],{"type":20,"tag":2846,"props":3029,"children":3030},{},[3031,3036,3041],{"type":20,"tag":2874,"props":3032,"children":3033},{"align":2852},[3034],{"type":36,"value":3035},"postgresql+psycopg (network)",{"type":20,"tag":2874,"props":3037,"children":3038},{"align":2852},[3039],{"type":36,"value":3040},"N/A (psycopg3)",{"type":20,"tag":2874,"props":3042,"children":3043},{"align":2852},[3044],{"type":36,"value":3045},"4.861368",{"type":20,"tag":2846,"props":3047,"children":3048},{},[3049,3054,3059],{"type":20,"tag":2874,"props":3050,"children":3051},{"align":2852},[3052],{"type":36,"value":3053},"mysql+mysqldb (network)",{"type":20,"tag":2874,"props":3055,"children":3056},{"align":2852},[3057],{"type":36,"value":3058},"77.281997",{"type":20,"tag":2874,"props":3060,"children":3061},{"align":2852},[3062],{"type":36,"value":3063},"76.132995",{"type":20,"tag":41,"props":3065,"children":3067},{"id":3066},"_4-향상된-orm-지원",[3068,3070,3075],{"type":36,"value":3069},"4. 향상된 ",{"type":20,"tag":53,"props":3071,"children":3073},{"className":3072},[],[3074],{"type":36,"value":12},{"type":36,"value":3076}," 지원",{"type":20,"tag":3078,"props":3079,"children":3081},"h3",{"id":3080},"bulk-insert",[3082],{"type":36,"value":3083},"bulk insert",{"type":20,"tag":25,"props":3085,"children":3086},{},[3087,3093,3095,3101,3103,3109],{"type":20,"tag":53,"props":3088,"children":3090},{"className":3089},[],[3091],{"type":36,"value":3092},"Insert.returning",{"type":36,"value":3094},"을 사용하거나 사용하지 않고 ",{"type":20,"tag":53,"props":3096,"children":3098},{"className":3097},[],[3099],{"type":36,"value":3100},"Session.execute",{"type":36,"value":3102},"를 사용할 수 있습니다. 이는 기존의 ",{"type":20,"tag":53,"props":3104,"children":3106},{"className":3105},[],[3107],{"type":36,"value":3108},"Session.bulk_insert_mappings",{"type":36,"value":3110},"와 동일합니다.",{"type":20,"tag":69,"props":3112,"children":3114},{"className":71,"code":3113,"language":6,"meta":8,"style":8},">>> users = session.scalars(\n...     insert(User).returning(User),\n...     [\n...         {\"name\": \"spongebob\", \"fullname\": \"Spongebob Squarepants\"},\n...         {\"name\": \"sandy\", \"fullname\": \"Sandy Cheeks\"},\n...         {\"name\": \"patrick\", \"fullname\": \"Patrick Star\"},\n...         {\"name\": \"squidward\", \"fullname\": \"Squidward Tentacles\"},\n...         {\"name\": \"ehkrabs\", \"fullname\": \"Eugene H. Krabs\"},\n...     ],\n... )\n>>> print(users.all())\n[User(name='spongebob', fullname='Spongebob Squarepants'),\n User(name='sandy', fullname='Sandy Cheeks'),\n User(name='patrick', fullname='Patrick Star'),\n User(name='squidward', fullname='Squidward Tentacles'),\n User(name='ehkrabs', fullname='Eugene H. Krabs')]\n",[3115],{"type":20,"tag":53,"props":3116,"children":3117},{"__ignoreMap":8},[3118,3140,3153,3165,3215,3260,3305,3350,3395,3407,3419,3436,3479,3520,3561,3602],{"type":20,"tag":78,"props":3119,"children":3120},{"class":80,"line":81},[3121,3126,3131,3135],{"type":20,"tag":78,"props":3122,"children":3123},{"style":85},[3124],{"type":36,"value":3125},">>>",{"type":20,"tag":78,"props":3127,"children":3128},{"style":91},[3129],{"type":36,"value":3130}," users ",{"type":20,"tag":78,"props":3132,"children":3133},{"style":85},[3134],{"type":36,"value":127},{"type":20,"tag":78,"props":3136,"children":3137},{"style":91},[3138],{"type":36,"value":3139}," session.scalars(\n",{"type":20,"tag":78,"props":3141,"children":3142},{"class":80,"line":107},[3143,3148],{"type":20,"tag":78,"props":3144,"children":3145},{"style":282},[3146],{"type":36,"value":3147},"...",{"type":20,"tag":78,"props":3149,"children":3150},{"style":91},[3151],{"type":36,"value":3152},"     insert(User).returning(User),\n",{"type":20,"tag":78,"props":3154,"children":3155},{"class":80,"line":116},[3156,3160],{"type":20,"tag":78,"props":3157,"children":3158},{"style":282},[3159],{"type":36,"value":3147},{"type":20,"tag":78,"props":3161,"children":3162},{"style":91},[3163],{"type":36,"value":3164},"     [\n",{"type":20,"tag":78,"props":3166,"children":3167},{"class":80,"line":146},[3168,3172,3177,3182,3187,3192,3196,3201,3205,3210],{"type":20,"tag":78,"props":3169,"children":3170},{"style":282},[3171],{"type":36,"value":3147},{"type":20,"tag":78,"props":3173,"children":3174},{"style":91},[3175],{"type":36,"value":3176},"         {",{"type":20,"tag":78,"props":3178,"children":3179},{"style":135},[3180],{"type":36,"value":3181},"\"name\"",{"type":20,"tag":78,"props":3183,"children":3184},{"style":91},[3185],{"type":36,"value":3186},": ",{"type":20,"tag":78,"props":3188,"children":3189},{"style":135},[3190],{"type":36,"value":3191},"\"spongebob\"",{"type":20,"tag":78,"props":3193,"children":3194},{"style":91},[3195],{"type":36,"value":1902},{"type":20,"tag":78,"props":3197,"children":3198},{"style":135},[3199],{"type":36,"value":3200},"\"fullname\"",{"type":20,"tag":78,"props":3202,"children":3203},{"style":91},[3204],{"type":36,"value":3186},{"type":20,"tag":78,"props":3206,"children":3207},{"style":135},[3208],{"type":36,"value":3209},"\"Spongebob Squarepants\"",{"type":20,"tag":78,"props":3211,"children":3212},{"style":91},[3213],{"type":36,"value":3214},"},\n",{"type":20,"tag":78,"props":3216,"children":3217},{"class":80,"line":154},[3218,3222,3226,3230,3234,3239,3243,3247,3251,3256],{"type":20,"tag":78,"props":3219,"children":3220},{"style":282},[3221],{"type":36,"value":3147},{"type":20,"tag":78,"props":3223,"children":3224},{"style":91},[3225],{"type":36,"value":3176},{"type":20,"tag":78,"props":3227,"children":3228},{"style":135},[3229],{"type":36,"value":3181},{"type":20,"tag":78,"props":3231,"children":3232},{"style":91},[3233],{"type":36,"value":3186},{"type":20,"tag":78,"props":3235,"children":3236},{"style":135},[3237],{"type":36,"value":3238},"\"sandy\"",{"type":20,"tag":78,"props":3240,"children":3241},{"style":91},[3242],{"type":36,"value":1902},{"type":20,"tag":78,"props":3244,"children":3245},{"style":135},[3246],{"type":36,"value":3200},{"type":20,"tag":78,"props":3248,"children":3249},{"style":91},[3250],{"type":36,"value":3186},{"type":20,"tag":78,"props":3252,"children":3253},{"style":135},[3254],{"type":36,"value":3255},"\"Sandy Cheeks\"",{"type":20,"tag":78,"props":3257,"children":3258},{"style":91},[3259],{"type":36,"value":3214},{"type":20,"tag":78,"props":3261,"children":3262},{"class":80,"line":188},[3263,3267,3271,3275,3279,3284,3288,3292,3296,3301],{"type":20,"tag":78,"props":3264,"children":3265},{"style":282},[3266],{"type":36,"value":3147},{"type":20,"tag":78,"props":3268,"children":3269},{"style":91},[3270],{"type":36,"value":3176},{"type":20,"tag":78,"props":3272,"children":3273},{"style":135},[3274],{"type":36,"value":3181},{"type":20,"tag":78,"props":3276,"children":3277},{"style":91},[3278],{"type":36,"value":3186},{"type":20,"tag":78,"props":3280,"children":3281},{"style":135},[3282],{"type":36,"value":3283},"\"patrick\"",{"type":20,"tag":78,"props":3285,"children":3286},{"style":91},[3287],{"type":36,"value":1902},{"type":20,"tag":78,"props":3289,"children":3290},{"style":135},[3291],{"type":36,"value":3200},{"type":20,"tag":78,"props":3293,"children":3294},{"style":91},[3295],{"type":36,"value":3186},{"type":20,"tag":78,"props":3297,"children":3298},{"style":135},[3299],{"type":36,"value":3300},"\"Patrick Star\"",{"type":20,"tag":78,"props":3302,"children":3303},{"style":91},[3304],{"type":36,"value":3214},{"type":20,"tag":78,"props":3306,"children":3307},{"class":80,"line":219},[3308,3312,3316,3320,3324,3329,3333,3337,3341,3346],{"type":20,"tag":78,"props":3309,"children":3310},{"style":282},[3311],{"type":36,"value":3147},{"type":20,"tag":78,"props":3313,"children":3314},{"style":91},[3315],{"type":36,"value":3176},{"type":20,"tag":78,"props":3317,"children":3318},{"style":135},[3319],{"type":36,"value":3181},{"type":20,"tag":78,"props":3321,"children":3322},{"style":91},[3323],{"type":36,"value":3186},{"type":20,"tag":78,"props":3325,"children":3326},{"style":135},[3327],{"type":36,"value":3328},"\"squidward\"",{"type":20,"tag":78,"props":3330,"children":3331},{"style":91},[3332],{"type":36,"value":1902},{"type":20,"tag":78,"props":3334,"children":3335},{"style":135},[3336],{"type":36,"value":3200},{"type":20,"tag":78,"props":3338,"children":3339},{"style":91},[3340],{"type":36,"value":3186},{"type":20,"tag":78,"props":3342,"children":3343},{"style":135},[3344],{"type":36,"value":3345},"\"Squidward Tentacles\"",{"type":20,"tag":78,"props":3347,"children":3348},{"style":91},[3349],{"type":36,"value":3214},{"type":20,"tag":78,"props":3351,"children":3352},{"class":80,"line":227},[3353,3357,3361,3365,3369,3374,3378,3382,3386,3391],{"type":20,"tag":78,"props":3354,"children":3355},{"style":282},[3356],{"type":36,"value":3147},{"type":20,"tag":78,"props":3358,"children":3359},{"style":91},[3360],{"type":36,"value":3176},{"type":20,"tag":78,"props":3362,"children":3363},{"style":135},[3364],{"type":36,"value":3181},{"type":20,"tag":78,"props":3366,"children":3367},{"style":91},[3368],{"type":36,"value":3186},{"type":20,"tag":78,"props":3370,"children":3371},{"style":135},[3372],{"type":36,"value":3373},"\"ehkrabs\"",{"type":20,"tag":78,"props":3375,"children":3376},{"style":91},[3377],{"type":36,"value":1902},{"type":20,"tag":78,"props":3379,"children":3380},{"style":135},[3381],{"type":36,"value":3200},{"type":20,"tag":78,"props":3383,"children":3384},{"style":91},[3385],{"type":36,"value":3186},{"type":20,"tag":78,"props":3387,"children":3388},{"style":135},[3389],{"type":36,"value":3390},"\"Eugene H. Krabs\"",{"type":20,"tag":78,"props":3392,"children":3393},{"style":91},[3394],{"type":36,"value":3214},{"type":20,"tag":78,"props":3396,"children":3397},{"class":80,"line":260},[3398,3402],{"type":20,"tag":78,"props":3399,"children":3400},{"style":282},[3401],{"type":36,"value":3147},{"type":20,"tag":78,"props":3403,"children":3404},{"style":91},[3405],{"type":36,"value":3406},"     ],\n",{"type":20,"tag":78,"props":3408,"children":3409},{"class":80,"line":293},[3410,3414],{"type":20,"tag":78,"props":3411,"children":3412},{"style":282},[3413],{"type":36,"value":3147},{"type":20,"tag":78,"props":3415,"children":3416},{"style":91},[3417],{"type":36,"value":3418}," )\n",{"type":20,"tag":78,"props":3420,"children":3421},{"class":80,"line":325},[3422,3426,3431],{"type":20,"tag":78,"props":3423,"children":3424},{"style":85},[3425],{"type":36,"value":3125},{"type":20,"tag":78,"props":3427,"children":3428},{"style":282},[3429],{"type":36,"value":3430}," print",{"type":20,"tag":78,"props":3432,"children":3433},{"style":91},[3434],{"type":36,"value":3435},"(users.all())\n",{"type":20,"tag":78,"props":3437,"children":3438},{"class":80,"line":333},[3439,3444,3448,3452,3457,3461,3466,3470,3475],{"type":20,"tag":78,"props":3440,"children":3441},{"style":91},[3442],{"type":36,"value":3443},"[User(",{"type":20,"tag":78,"props":3445,"children":3446},{"style":900},[3447],{"type":36,"value":2468},{"type":20,"tag":78,"props":3449,"children":3450},{"style":85},[3451],{"type":36,"value":127},{"type":20,"tag":78,"props":3453,"children":3454},{"style":135},[3455],{"type":36,"value":3456},"'spongebob'",{"type":20,"tag":78,"props":3458,"children":3459},{"style":91},[3460],{"type":36,"value":1902},{"type":20,"tag":78,"props":3462,"children":3463},{"style":900},[3464],{"type":36,"value":3465},"fullname",{"type":20,"tag":78,"props":3467,"children":3468},{"style":85},[3469],{"type":36,"value":127},{"type":20,"tag":78,"props":3471,"children":3472},{"style":135},[3473],{"type":36,"value":3474},"'Spongebob Squarepants'",{"type":20,"tag":78,"props":3476,"children":3477},{"style":91},[3478],{"type":36,"value":1377},{"type":20,"tag":78,"props":3480,"children":3481},{"class":80,"line":342},[3482,3486,3490,3494,3499,3503,3507,3511,3516],{"type":20,"tag":78,"props":3483,"children":3484},{"style":91},[3485],{"type":36,"value":2463},{"type":20,"tag":78,"props":3487,"children":3488},{"style":900},[3489],{"type":36,"value":2468},{"type":20,"tag":78,"props":3491,"children":3492},{"style":85},[3493],{"type":36,"value":127},{"type":20,"tag":78,"props":3495,"children":3496},{"style":135},[3497],{"type":36,"value":3498},"'sandy'",{"type":20,"tag":78,"props":3500,"children":3501},{"style":91},[3502],{"type":36,"value":1902},{"type":20,"tag":78,"props":3504,"children":3505},{"style":900},[3506],{"type":36,"value":3465},{"type":20,"tag":78,"props":3508,"children":3509},{"style":85},[3510],{"type":36,"value":127},{"type":20,"tag":78,"props":3512,"children":3513},{"style":135},[3514],{"type":36,"value":3515},"'Sandy Cheeks'",{"type":20,"tag":78,"props":3517,"children":3518},{"style":91},[3519],{"type":36,"value":1377},{"type":20,"tag":78,"props":3521,"children":3522},{"class":80,"line":360},[3523,3527,3531,3535,3540,3544,3548,3552,3557],{"type":20,"tag":78,"props":3524,"children":3525},{"style":91},[3526],{"type":36,"value":2463},{"type":20,"tag":78,"props":3528,"children":3529},{"style":900},[3530],{"type":36,"value":2468},{"type":20,"tag":78,"props":3532,"children":3533},{"style":85},[3534],{"type":36,"value":127},{"type":20,"tag":78,"props":3536,"children":3537},{"style":135},[3538],{"type":36,"value":3539},"'patrick'",{"type":20,"tag":78,"props":3541,"children":3542},{"style":91},[3543],{"type":36,"value":1902},{"type":20,"tag":78,"props":3545,"children":3546},{"style":900},[3547],{"type":36,"value":3465},{"type":20,"tag":78,"props":3549,"children":3550},{"style":85},[3551],{"type":36,"value":127},{"type":20,"tag":78,"props":3553,"children":3554},{"style":135},[3555],{"type":36,"value":3556},"'Patrick Star'",{"type":20,"tag":78,"props":3558,"children":3559},{"style":91},[3560],{"type":36,"value":1377},{"type":20,"tag":78,"props":3562,"children":3563},{"class":80,"line":369},[3564,3568,3572,3576,3581,3585,3589,3593,3598],{"type":20,"tag":78,"props":3565,"children":3566},{"style":91},[3567],{"type":36,"value":2463},{"type":20,"tag":78,"props":3569,"children":3570},{"style":900},[3571],{"type":36,"value":2468},{"type":20,"tag":78,"props":3573,"children":3574},{"style":85},[3575],{"type":36,"value":127},{"type":20,"tag":78,"props":3577,"children":3578},{"style":135},[3579],{"type":36,"value":3580},"'squidward'",{"type":20,"tag":78,"props":3582,"children":3583},{"style":91},[3584],{"type":36,"value":1902},{"type":20,"tag":78,"props":3586,"children":3587},{"style":900},[3588],{"type":36,"value":3465},{"type":20,"tag":78,"props":3590,"children":3591},{"style":85},[3592],{"type":36,"value":127},{"type":20,"tag":78,"props":3594,"children":3595},{"style":135},[3596],{"type":36,"value":3597},"'Squidward Tentacles'",{"type":20,"tag":78,"props":3599,"children":3600},{"style":91},[3601],{"type":36,"value":1377},{"type":20,"tag":78,"props":3603,"children":3604},{"class":80,"line":397},[3605,3609,3613,3617,3622,3626,3630,3634,3639],{"type":20,"tag":78,"props":3606,"children":3607},{"style":91},[3608],{"type":36,"value":2463},{"type":20,"tag":78,"props":3610,"children":3611},{"style":900},[3612],{"type":36,"value":2468},{"type":20,"tag":78,"props":3614,"children":3615},{"style":85},[3616],{"type":36,"value":127},{"type":20,"tag":78,"props":3618,"children":3619},{"style":135},[3620],{"type":36,"value":3621},"'ehkrabs'",{"type":20,"tag":78,"props":3623,"children":3624},{"style":91},[3625],{"type":36,"value":1902},{"type":20,"tag":78,"props":3627,"children":3628},{"style":900},[3629],{"type":36,"value":3465},{"type":20,"tag":78,"props":3631,"children":3632},{"style":85},[3633],{"type":36,"value":127},{"type":20,"tag":78,"props":3635,"children":3636},{"style":135},[3637],{"type":36,"value":3638},"'Eugene H. Krabs'",{"type":20,"tag":78,"props":3640,"children":3641},{"style":91},[3642],{"type":36,"value":1772},{"type":20,"tag":3078,"props":3644,"children":3646},{"id":3645},"bulk-update",[3647],{"type":36,"value":3648},"bulk update",{"type":20,"tag":25,"props":3650,"children":3651},{},[3652,3658,3660,3666,3668,3674],{"type":20,"tag":53,"props":3653,"children":3655},{"className":3654},[],[3656],{"type":36,"value":3657},"Insert",{"type":36,"value":3659},"와 같은 방법으로 사용가능합니다. 기존의 ",{"type":20,"tag":53,"props":3661,"children":3663},{"className":3662},[],[3664],{"type":36,"value":3665},"Session.bulk_update_mappings",{"type":36,"value":3667},"와 동일합니다. 단 ",{"type":20,"tag":53,"props":3669,"children":3671},{"className":3670},[],[3672],{"type":36,"value":3673},"returning",{"type":36,"value":3675},"은 지원하지 않습니다.",{"type":20,"tag":69,"props":3677,"children":3679},{"className":71,"code":3678,"language":6,"meta":8,"style":8},">>> from sqlalchemy import update\n>>> session.execute(\n...     update(User),\n...     [\n...         {\"id\": 1, \"fullname\": \"Spongebob Squarepants\"},\n...         {\"id\": 3, \"fullname\": \"Patrick Star\"},\n...     ],\n... )\n",[3680],{"type":20,"tag":53,"props":3681,"children":3682},{"__ignoreMap":8},[3683,3708,3720,3732,3743,3787,3831,3842],{"type":20,"tag":78,"props":3684,"children":3685},{"class":80,"line":81},[3686,3690,3695,3699,3703],{"type":20,"tag":78,"props":3687,"children":3688},{"style":85},[3689],{"type":36,"value":3125},{"type":20,"tag":78,"props":3691,"children":3692},{"style":85},[3693],{"type":36,"value":3694}," from",{"type":20,"tag":78,"props":3696,"children":3697},{"style":91},[3698],{"type":36,"value":94},{"type":20,"tag":78,"props":3700,"children":3701},{"style":85},[3702],{"type":36,"value":88},{"type":20,"tag":78,"props":3704,"children":3705},{"style":91},[3706],{"type":36,"value":3707}," update\n",{"type":20,"tag":78,"props":3709,"children":3710},{"class":80,"line":107},[3711,3715],{"type":20,"tag":78,"props":3712,"children":3713},{"style":85},[3714],{"type":36,"value":3125},{"type":20,"tag":78,"props":3716,"children":3717},{"style":91},[3718],{"type":36,"value":3719}," session.execute(\n",{"type":20,"tag":78,"props":3721,"children":3722},{"class":80,"line":116},[3723,3727],{"type":20,"tag":78,"props":3724,"children":3725},{"style":282},[3726],{"type":36,"value":3147},{"type":20,"tag":78,"props":3728,"children":3729},{"style":91},[3730],{"type":36,"value":3731},"     update(User),\n",{"type":20,"tag":78,"props":3733,"children":3734},{"class":80,"line":146},[3735,3739],{"type":20,"tag":78,"props":3736,"children":3737},{"style":282},[3738],{"type":36,"value":3147},{"type":20,"tag":78,"props":3740,"children":3741},{"style":91},[3742],{"type":36,"value":3164},{"type":20,"tag":78,"props":3744,"children":3745},{"class":80,"line":154},[3746,3750,3754,3759,3763,3767,3771,3775,3779,3783],{"type":20,"tag":78,"props":3747,"children":3748},{"style":282},[3749],{"type":36,"value":3147},{"type":20,"tag":78,"props":3751,"children":3752},{"style":91},[3753],{"type":36,"value":3176},{"type":20,"tag":78,"props":3755,"children":3756},{"style":135},[3757],{"type":36,"value":3758},"\"id\"",{"type":20,"tag":78,"props":3760,"children":3761},{"style":91},[3762],{"type":36,"value":3186},{"type":20,"tag":78,"props":3764,"children":3765},{"style":282},[3766],{"type":36,"value":1372},{"type":20,"tag":78,"props":3768,"children":3769},{"style":91},[3770],{"type":36,"value":1902},{"type":20,"tag":78,"props":3772,"children":3773},{"style":135},[3774],{"type":36,"value":3200},{"type":20,"tag":78,"props":3776,"children":3777},{"style":91},[3778],{"type":36,"value":3186},{"type":20,"tag":78,"props":3780,"children":3781},{"style":135},[3782],{"type":36,"value":3209},{"type":20,"tag":78,"props":3784,"children":3785},{"style":91},[3786],{"type":36,"value":3214},{"type":20,"tag":78,"props":3788,"children":3789},{"class":80,"line":188},[3790,3794,3798,3802,3806,3811,3815,3819,3823,3827],{"type":20,"tag":78,"props":3791,"children":3792},{"style":282},[3793],{"type":36,"value":3147},{"type":20,"tag":78,"props":3795,"children":3796},{"style":91},[3797],{"type":36,"value":3176},{"type":20,"tag":78,"props":3799,"children":3800},{"style":135},[3801],{"type":36,"value":3758},{"type":20,"tag":78,"props":3803,"children":3804},{"style":91},[3805],{"type":36,"value":3186},{"type":20,"tag":78,"props":3807,"children":3808},{"style":282},[3809],{"type":36,"value":3810},"3",{"type":20,"tag":78,"props":3812,"children":3813},{"style":91},[3814],{"type":36,"value":1902},{"type":20,"tag":78,"props":3816,"children":3817},{"style":135},[3818],{"type":36,"value":3200},{"type":20,"tag":78,"props":3820,"children":3821},{"style":91},[3822],{"type":36,"value":3186},{"type":20,"tag":78,"props":3824,"children":3825},{"style":135},[3826],{"type":36,"value":3300},{"type":20,"tag":78,"props":3828,"children":3829},{"style":91},[3830],{"type":36,"value":3214},{"type":20,"tag":78,"props":3832,"children":3833},{"class":80,"line":219},[3834,3838],{"type":20,"tag":78,"props":3835,"children":3836},{"style":282},[3837],{"type":36,"value":3147},{"type":20,"tag":78,"props":3839,"children":3840},{"style":91},[3841],{"type":36,"value":3406},{"type":20,"tag":78,"props":3843,"children":3844},{"class":80,"line":227},[3845,3849],{"type":20,"tag":78,"props":3846,"children":3847},{"style":282},[3848],{"type":36,"value":3147},{"type":20,"tag":78,"props":3850,"children":3851},{"style":91},[3852],{"type":36,"value":3418},{"type":20,"tag":3078,"props":3854,"children":3856},{"id":3855},"synchronize_session",[3857],{"type":20,"tag":53,"props":3858,"children":3860},{"className":3859},[],[3861],{"type":36,"value":3855},{"type":20,"tag":25,"props":3863,"children":3864},{},[3865,3870,3872,3878,3880,3885,3887,3893,3895,3901,3903,3908,3910,3915],{"type":20,"tag":53,"props":3866,"children":3868},{"className":3867},[],[3869],{"type":36,"value":3855},{"type":36,"value":3871},"의 기본값이 새로 추가된 ",{"type":20,"tag":53,"props":3873,"children":3875},{"className":3874},[],[3876],{"type":36,"value":3877},"auto",{"type":36,"value":3879},"로 변경됐습니다. ",{"type":20,"tag":53,"props":3881,"children":3883},{"className":3882},[],[3884],{"type":36,"value":3877},{"type":36,"value":3886},"는 우선 ",{"type":20,"tag":53,"props":3888,"children":3890},{"className":3889},[],[3891],{"type":36,"value":3892},"evaluate",{"type":36,"value":3894},"로 시도하고, 문제가 발생하면 ",{"type":20,"tag":53,"props":3896,"children":3898},{"className":3897},[],[3899],{"type":36,"value":3900},"fetch",{"type":36,"value":3902},"로 다시 시도합니다. ",{"type":20,"tag":53,"props":3904,"children":3906},{"className":3905},[],[3907],{"type":36,"value":2507},{"type":36,"value":3909},"과 ",{"type":20,"tag":53,"props":3911,"children":3913},{"className":3912},[],[3914],{"type":36,"value":2515},{"type":36,"value":3916},"를 제외한 모든 백엔드에서 효율적입니다.",{"type":20,"tag":41,"props":3918,"children":3920},{"id":3919},"_5-그-외",[3921],{"type":36,"value":3922},"5. 그 외..",{"type":20,"tag":25,"props":3924,"children":3925},{},[3926],{"type":36,"value":3927},"그 외에도 여러가지 변경 및 추가사항이 많습니다. 하지만 굳이 다 적을 필요가 없기에 생략합니다.\n원문 링크는 본문 상단에 있습니다.",{"type":20,"tag":25,"props":3929,"children":3930},{},[3931,3937,3939,3944,3946,3952,3954,3960,3961,3967,3969,3975],{"type":20,"tag":53,"props":3932,"children":3934},{"className":3933},[],[3935],{"type":36,"value":3936},"sqlalchemy2.0",{"type":36,"value":3938},"은, 기존에 ",{"type":20,"tag":53,"props":3940,"children":3942},{"className":3941},[],[3943],{"type":36,"value":13},{"type":36,"value":3945},"를 사용했다면, 사용하지 않을 이유가 없는 라이브러리입니다. 하지만 아쉽게도 아직 다른 라이브러리와 종속성 문제로 인해 사용하지 못하는 경우가 많겠습니다. ",{"type":20,"tag":53,"props":3947,"children":3949},{"className":3948},[],[3950],{"type":36,"value":3951},"airflow",{"type":36,"value":3953},"라던가 ",{"type":20,"tag":53,"props":3955,"children":3957},{"className":3956},[],[3958],{"type":36,"value":3959},"pandas",{"type":36,"value":784},{"type":20,"tag":53,"props":3962,"children":3964},{"className":3963},[],[3965],{"type":36,"value":3966},"read_sql",{"type":36,"value":3968},"이나 ",{"type":20,"tag":53,"props":3970,"children":3972},{"className":3971},[],[3973],{"type":36,"value":3974},"to_sql",{"type":36,"value":3976},"같은 메소드를 사용하지 않으면 상관없습니다)같은 경우입니다.",{"type":20,"tag":3978,"props":3979,"children":3980},"style",{},[3981],{"type":36,"value":3982},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":8,"searchDepth":154,"depth":154,"links":3984},[3985,3986,3987,3989,3995],{"id":43,"depth":107,"text":46},{"id":1557,"depth":107,"text":1560},{"id":2498,"depth":107,"text":3988},"3. 최적화된 bulk insert(MySQL 제외, MariaDB 포함)",{"id":3066,"depth":107,"text":3990,"children":3991},"4. 향상된 orm 지원",[3992,3993,3994],{"id":3080,"depth":116,"text":3083},{"id":3645,"depth":116,"text":3648},{"id":3855,"depth":116,"text":3855},{"id":3919,"depth":107,"text":3922},"markdown","content:python:why_sqlachemy2.md","content","python/why_sqlachemy2.md","python/why_sqlachemy2","md",[4003,4007],{"_path":4004,"title":4005,"description":4006},"/python/type_hint_4","[코드를 깔끔하게] ruff - 4","생산성 향상을 위해",{"_path":4008,"title":4009,"description":4006},"/python/type_hint_3","[코드를 깔끔하게] isort - 3",1726212322689]