export default (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT){return {data:{"selected_data_with_surround_/python/why_sqlachemy2":{article:{_path:"\u002Fpython\u002Fwhy_sqlachemy2",_dir:A,_draft:ae,_partial:ae,_locale:B,_empty:ae,title:"sqlalchemy2.0는 무엇이 달라졌고, 왜 써야할까.",description:"더 빠르고 정확해진 orm",tags:[A,aA,af],date:"2023-03-18",publish:true,body:{type:"root",children:[{type:a,tag:"alert",props:{},children:[{type:a,tag:u,props:{},children:[{type:a,tag:"a",props:{href:"https:\u002F\u002Fdocs.sqlalchemy.org\u002Fen\u002F20\u002Fchangelog\u002Fwhatsnew_20.html",rel:["nofollow"]},children:[{type:b,value:"What’s New in SQLAlchemy 2.0?"}]},{type:b,value:" 에서 필요하다 생각되는 내용을 각색해서 작성한 글입니다."}]}]},{type:a,tag:O,props:{id:aB},children:[{type:b,value:aC}]},{type:a,tag:u,props:{},children:[{type:b,value:"기존의 "},{type:a,tag:l,props:{},children:[{type:b,value:af}]},{type:b,value:"는 "},{type:a,tag:l,props:{},children:[{type:b,value:"sqlalchemy2-stubs"}]},{type:b,value:"를 사용해서 타입 힌트를 제공했지만, 완전하지 않았습니다. 하지만 2.0에서는 이와 관련하여 유형이 있는 모든 요소에 대해 재작업되어, 선언부터 결과까지 확장됩니다. 실제 코드로 확인해봅시다."}]},{type:a,tag:v,props:{code:"import sqlalchemy as sa\n\nengine = sa.create_engine(sa.make_url(\"sqlite:\u002F\u002F\"))\n\nstr_col = sa.column(\"a\", sa.String)  # ColumnClause[str]\nint_col = sa.column(\"a\", sa.Integer)  # ColumnClause[int]\n\nexpr1 = str_col + \"x\"  # ColumnElement[str]\nexpr2 = int_col + 10  # ColumnElement[int]\nexpr3 = int_col == 15  # ColumnElement[bool]\n\n# Select[Tuple[str, int]]\nselect_stmt = sa.select(str_col, int_col)\n# ReturningInsert[Tuple[str, int]]\ninsert_stmt = sa.insert(sa.table(\"t\")).returning(str_col, int_col)\n\nwith engine.connect() as conn:\n    # CursorResult[Tuple[str, int]]\n    result = conn.execute(select_stmt)\n    # Row[Tuple[str, int]] | None\n    row = result.first()\n\n    if row is not None:\n        # str, int = Tuple[str, int]\n        str_val, int_val = row.tuple()\n\n    # Sequence[str]\n    data = conn.execute(sa.select(str_col)).scalars().all()\n",language:A,meta:H},children:[{type:a,tag:I,props:{},children:[{type:a,tag:v,props:{__ignoreMap:B},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:X}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:P}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ag}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:ah}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ai}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aj}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:Y}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"str_col "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aD}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aE}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:", sa.String)  "}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:"# ColumnClause[str]"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"int_col "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aD}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aE}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:", sa.Integer)  "}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:"# ColumnClause[int]"}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"expr1 "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" str_col "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:ak}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"\"x\""}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:al}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:"# ColumnElement[str]"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"expr2 "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aF}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:ak}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:"10"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:al}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:"# ColumnElement[int]"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"expr3 "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aF}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:aG}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:"15"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:al}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:"# ColumnElement[bool]"}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:o},children:[{type:b,value:"# Select[Tuple[str, int]]"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"select_stmt "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" sa.select(str_col, int_col)"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:o},children:[{type:b,value:"# ReturningInsert[Tuple[str, int]]"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"insert_stmt "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" sa.insert(sa.table("}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"\"t\""}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:")).returning(str_col, int_col)"}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:aH}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" engine.connect() "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:P}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" conn:"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:"# CursorResult[Tuple[str, int]]"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:am}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" conn.execute(select_stmt)"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:"# Row[Tuple[str, int]] | None"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"    row "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" result.first()"}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:"if"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" row "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:"is"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:"not"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:Z}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:":"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:an}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:"# str, int = Tuple[str, int]"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"        str_val, int_val "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" row.tuple()"}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:"# Sequence[str]"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"    data "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" conn.execute(sa.select(str_col)).scalars().all()"}]}]}]}]}]},{type:a,tag:u,props:{},children:[{type:b,value:"이러한 점은 선언적 모델 정의에서도 잘 확인할 수 있습니다."}]},{type:a,tag:v,props:{code:"from __future__ import annotations\n\nimport sqlalchemy as sa\nfrom sqlalchemy.orm import (\n    DeclarativeBase,\n    Mapped,\n    Session,\n    aliased,\n    mapped_column,\n    relationship,\n)\n\nengine = sa.create_engine(sa.make_url(\"sqlite:\u002F\u002F\"))\n\n\nclass Base(DeclarativeBase):\n    ...\n\n\nclass User(Base):\n    __tablename__ = \"user_account\"\n\n    id: Mapped[int] = mapped_column(primary_key=True)\n    name: Mapped[str]\n    addresses: Mapped[list[Address]] = relationship()\n\n\nclass Address(Base):\n    __tablename__ = \"address\"\n\n    id: Mapped[int] = mapped_column(primary_key=True)\n    email_address: Mapped[str]\n    user_id = mapped_column(sa.ForeignKey(\"user_account.id\"))\n\n\nwith Session(engine) as session:\n    # Select[Tuple[User, Address]]\n    stmt = sa.select(User, Address).join_from(User, Address)\n    # Result[Tuple[User, Address]]\n    result = session.execute(stmt)\n    # User, Address = Tuple[User, Address]\n    user, adderss = result.one().tuple()\n\n    aliased_user = aliased(User)  # Type[User]\n    # Select[Tuple[User, User, str]]\n    stmt = sa.select(User, aliased_user, User.name).where(User.id == 5)\n    # Result[Tuple[User, User, str]]\n    result = session.execute(stmt)\n\n    # User\n    user = (\n        session.execute(\n            sa.select(User).limit(1),\n        )\n        .scalars()\n        .one()\n    )\n    # Sequence[User]\n    users = (\n        session.execute(\n            sa.select(User),\n        )\n        .scalars()\n        .all()\n    )\n    # Iterator[User]\n    user_iter = iter(\n        session.execute(\n            sa.select(User),\n        ).scalars(),\n    )\n",language:A,meta:H},children:[{type:a,tag:I,props:{},children:[{type:a,tag:v,props:{__ignoreMap:B},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:aI}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aJ}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:X}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:P}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ag}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aK}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:_}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:aL}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:aM}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"    Session,"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"    aliased,"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:aN}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:aO}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:ah}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ai}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aj}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:Y}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:K}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:aP}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:C}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:r}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:K}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:aQ}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:C}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:$}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aR}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:aa}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aS}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:ab}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ao}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:M}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:ap}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:aq}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"    name: Mapped["}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:Q}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ar}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:aT}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" relationship()"}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:K}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:aU}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:C}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:$}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aV}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:aa}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aS}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:ab}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ao}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:M}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:ap}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:aq}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:aW}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:Q}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ar}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"    user_id "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" mapped_column(sa.ForeignKey("}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aX}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:Y}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:aH}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" Session(engine) "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:P}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" session:"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:"# Select[Tuple[User, Address]]"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:aY}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" sa.select(User, Address).join_from(User, Address)"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:"# Result[Tuple[User, Address]]"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:am}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aZ}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:"# User, Address = Tuple[User, Address]"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"    user, adderss "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" result.one().tuple()"}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"    aliased_user "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" aliased(User)  "}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:"# Type[User]"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:"# Select[Tuple[User, User, str]]"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:aY}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" sa.select(User, aliased_user, User.name).where(User.id "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:aG}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:"5"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:"# Result[Tuple[User, User, str]]"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:am}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aZ}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:"# User"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"    user "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:_}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:as}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"            sa.select(User).limit("}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:a_}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:R}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:at}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:a$}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"        .one()"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:ac}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:"# Sequence[User]"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"    users "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:_}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:as}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:ba}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:at}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:a$}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"        .all()"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:ac}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:o},children:[{type:b,value:"# Iterator[User]"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"    user_iter "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:"iter"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:z}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:as}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:ba}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"        ).scalars(),"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:ac}]}]}]}]}]},{type:a,tag:O,props:{id:bb},children:[{type:b,value:bc}]},{type:a,tag:u,props:{},children:[{type:b,value:"선언적 모델 정의가 "},{type:a,tag:l,props:{},children:[{type:b,value:bd}]},{type:b,value:"에서 강하게 영감을 받은 만큼, 모델은 그 자체로 "},{type:a,tag:l,props:{},children:[{type:b,value:bd}]},{type:b,value:"가 될 수 있습니다."}]},{type:a,tag:v,props:{code:"from __future__ import annotations\n\nfrom typing import Annotated\n\nimport sqlalchemy as sa\nfrom sqlalchemy.orm import (\n    DeclarativeBase,\n    Mapped,\n    MappedAsDataclass,\n    mapped_column,\n    relationship,\n)\n\nintpk = Annotated[int, mapped_column(primary_key=True)]\nstr30 = Annotated[str, mapped_column(sa.String(30))]\nuser_fk = Annotated[int, mapped_column(sa.ForeignKey(\"user_account.id\"))]\nengine = sa.create_engine(sa.make_url(\"sqlite:\u002F\u002F\"))\n\n\nclass Base(MappedAsDataclass, DeclarativeBase):\n    \"\"\"subclasses will be converted to dataclasses\"\"\"\n\n\nclass User(Base):\n    __tablename__ = \"user_account\"\n\n    id: Mapped[intpk] = mapped_column(init=False)\n    name: Mapped[str30]\n    fullname: Mapped[str | None] = mapped_column(default=None)\n    addresses: Mapped[list[Address]] = relationship(\n        back_populates=\"user\",\n        default_factory=list,\n    )\n\n\nclass Address(Base):\n    __tablename__ = \"address\"\n\n    id: Mapped[intpk] = mapped_column(init=False)\n    email_address: Mapped[str]\n    user_id: Mapped[user_fk] = mapped_column(init=False)\n    user: Mapped[User] = relationship(back_populates=\"addresses\", default=None)\n\n# # Address(id=None, email_address='email@address', user_id=None, user=None)\naddress = Address(email_address=\"email@address\")\n# User(\n#     id=None,\n#     name=\"username\",\n#     fullname=None,\n#     addresses=[\n#         Address(id=None, email_address=\"email@address\", user_id=None, user=...),\n#     ],\n# )\nuser = User(name=\"username\", addresses=[address])\n\n",language:A,meta:H},children:[{type:a,tag:I,props:{},children:[{type:a,tag:v,props:{__ignoreMap:B},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:aI}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aJ}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" typing "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" Annotated"}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:X}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:P}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ag}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:aK}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:_}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:aL}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:aM}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"    MappedAsDataclass,"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:aN}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:aO}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"intpk "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:au}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:ab}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:", mapped_column("}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:ap}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:aq}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:be}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"str30 "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:au}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:Q}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:", mapped_column(sa.String("}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:"30"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bf}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"user_fk "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:au}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:ab}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:", mapped_column(sa.ForeignKey("}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aX}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bf}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:ah}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ai}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aj}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:Y}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:K}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:"MappedAsDataclass"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:s}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:aP}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:C}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"\"\"\"subclasses will be converted to dataclasses\"\"\""}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:K}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:aQ}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:C}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:$}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aR}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:aa}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bg}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:M}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:av}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:aw}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"    name: Mapped[str30]"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"    fullname: Mapped["}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:Q}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:"|"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:Z}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ao}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:M}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:bh}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:Z}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:aT}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bi}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:an}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:bj}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"\"user\""}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bk}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:an}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"default_factory"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:"list"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bk}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:ac}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:K}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:aU}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:L}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:C}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:$}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:aV}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:aa}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bg}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:M}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:av}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:aw}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:aW}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:Q}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:ar}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"    user_id: Mapped[user_fk] "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:M}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:av}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:aw}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"    user: Mapped[User] "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bi}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:bj}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"\"addresses\""}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:s}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:bh}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:Z}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]}]},{type:a,tag:e,props:{class:f},children:[]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:o},children:[{type:b,value:"# # Address(id=None, email_address='email@address', user_id=None, user=None)"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"address "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" Address("}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"email_address"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"\"email@address\""}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:o},children:[{type:b,value:"# User("}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:o},children:[{type:b,value:"#     id=None,"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:o},children:[{type:b,value:"#     name=\"username\","}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:o},children:[{type:b,value:"#     fullname=None,"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:o},children:[{type:b,value:"#     addresses=["}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:o},children:[{type:b,value:"#         Address(id=None, email_address=\"email@address\", user_id=None, user=...),"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:o},children:[{type:b,value:"#     ],"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:o},children:[{type:b,value:"# )"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"user "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:S}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:D}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"\"username\""}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:s}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"addresses"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"[address])"}]}]}]}]}]},{type:a,tag:O,props:{id:bl},children:[{type:b,value:"3. 최적화된 bulk insert("},{type:a,tag:l,props:{},children:[{type:b,value:ax}]},{type:b,value:" 제외, "},{type:a,tag:l,props:{},children:[{type:b,value:bm}]},{type:b,value:" 포함)"}]},{type:a,tag:u,props:{},children:[{type:a,tag:l,props:{},children:[{type:b,value:bn}]},{type:b,value:"을 지원하는 모든 백엔드에 대한 성능 향상이 이뤄졌는데 그 차이가 상당히 극적입니다."}]},{type:a,tag:u,props:{},children:[{type:b,value:"벤치마크는 다음 코드로 진행됐습니다."}]},{type:a,tag:v,props:{code:"@Profiler.profile\ndef test_flush_no_pk(n):\n    \"\"\"INSERT statements via the ORM (batched with RETURNING if available),\n    fetching generated row id\"\"\"\n    session = Session(bind=engine)\n    for chunk in range(0, n, 1000):\n        session.add_all(\n            [\n                Customer(\n                    name=\"customer name %d\" % i,\n                    description=\"customer description %d\" % i,\n                )\n                for i in range(chunk, chunk + 1000)\n            ]\n        )\n        session.flush()\n    session.commit()\n",language:A,meta:H},children:[{type:a,tag:I,props:{},children:[{type:a,tag:v,props:{__ignoreMap:B},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:bo},children:[{type:b,value:"@Profiler.profile"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:"def"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:bo},children:[{type:b,value:"test_flush_no_pk"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"(n):"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"\"\"\"INSERT statements via the ORM (batched with RETURNING if available),"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:j},children:[{type:b,value:"    fetching generated row id\"\"\""}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"    session "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" Session("}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"bind"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"engine)"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:q}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:bp}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" chunk "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:bq}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:br}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:z}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:"0"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:", n, "}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:bs}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:C}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"        session.add_all("}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"            ["}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"                Customer("}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:bt}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:D}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"\"customer name "}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:bu}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bv}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:bw}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bx}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:bt}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:"description"}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"\"customer description "}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:bu}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bv}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:bw}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bx}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"                )"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"                "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:bp}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" i "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:bq}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:br}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"(chunk, chunk "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:ak}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:bs}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:w}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"            ]"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:at}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"        session.flush()"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"    session.commit()"}]}]}]}]}]},{type:a,tag:u,props:{},children:[{type:b,value:"벤치마크 결과는 다음과 같습니다."}]},{type:a,tag:by,props:{},children:[{type:a,tag:bz,props:{},children:[{type:a,tag:x,props:{},children:[{type:a,tag:N,props:{align:n},children:[{type:b,value:bA}]},{type:a,tag:N,props:{align:n},children:[{type:b,value:bB}]},{type:a,tag:N,props:{align:n},children:[{type:b,value:bC}]}]}]},{type:a,tag:bD,props:{},children:[{type:a,tag:x,props:{},children:[{type:a,tag:p,props:{align:n},children:[{type:b,value:"sqlite+pysqlite2 (memory)"}]},{type:a,tag:p,props:{align:n},children:[{type:b,value:"6.204843"}]},{type:a,tag:p,props:{align:n},children:[{type:b,value:"3.554856"}]}]},{type:a,tag:x,props:{},children:[{type:a,tag:p,props:{align:n},children:[{type:b,value:"postgresql+psycopg2 (network)"}]},{type:a,tag:p,props:{align:n},children:[{type:b,value:"4.704876"}]},{type:a,tag:p,props:{align:n},children:[{type:b,value:"4.699883"}]}]},{type:a,tag:x,props:{},children:[{type:a,tag:p,props:{align:n},children:[{type:b,value:"postgresql+asyncpg (network)"}]},{type:a,tag:p,props:{align:n},children:[{type:b,value:"88.292285"}]},{type:a,tag:p,props:{align:n},children:[{type:b,value:"4.561492"}]}]},{type:a,tag:x,props:{},children:[{type:a,tag:p,props:{align:n},children:[{type:b,value:"oracle+cx_Oracle (network)"}]},{type:a,tag:p,props:{align:n},children:[{type:b,value:"92.603953"}]},{type:a,tag:p,props:{align:n},children:[{type:b,value:"4.809520"}]}]},{type:a,tag:x,props:{},children:[{type:a,tag:p,props:{align:n},children:[{type:b,value:"mssql+pyodbc (network)"}]},{type:a,tag:p,props:{align:n},children:[{type:b,value:"158.396667"}]},{type:a,tag:p,props:{align:n},children:[{type:b,value:"4.825139"}]}]},{type:a,tag:x,props:{},children:[{type:a,tag:p,props:{align:n},children:[{type:b,value:"mariadb+mysqldb (network)"}]},{type:a,tag:p,props:{align:n},children:[{type:b,value:"71.705197"}]},{type:a,tag:p,props:{align:n},children:[{type:b,value:"4.075377"}]}]}]}]},{type:a,tag:u,props:{},children:[{type:a,tag:l,props:{},children:[{type:b,value:bn}]},{type:b,value:"을 지원하지 않는 "},{type:a,tag:l,props:{},children:[{type:b,value:ax}]},{type:b,value:"과 2.0부터 지원하는 "},{type:a,tag:l,props:{},children:[{type:b,value:"psycopg3"}]},{type:b,value:"의 벤치마크 결과는 다음과 같습니다."}]},{type:a,tag:by,props:{},children:[{type:a,tag:bz,props:{},children:[{type:a,tag:x,props:{},children:[{type:a,tag:N,props:{align:n},children:[{type:b,value:bA}]},{type:a,tag:N,props:{align:n},children:[{type:b,value:bB}]},{type:a,tag:N,props:{align:n},children:[{type:b,value:bC}]}]}]},{type:a,tag:bD,props:{},children:[{type:a,tag:x,props:{},children:[{type:a,tag:p,props:{align:n},children:[{type:b,value:"postgresql+psycopg (network)"}]},{type:a,tag:p,props:{align:n},children:[{type:b,value:"N\u002FA (psycopg3)"}]},{type:a,tag:p,props:{align:n},children:[{type:b,value:"4.861368"}]}]},{type:a,tag:x,props:{},children:[{type:a,tag:p,props:{align:n},children:[{type:b,value:"mysql+mysqldb (network)"}]},{type:a,tag:p,props:{align:n},children:[{type:b,value:"77.281997"}]},{type:a,tag:p,props:{align:n},children:[{type:b,value:"76.132995"}]}]}]}]},{type:a,tag:O,props:{id:bE},children:[{type:b,value:"4. 향상된 "},{type:a,tag:l,props:{},children:[{type:b,value:aA}]},{type:b,value:" 지원"}]},{type:a,tag:ay,props:{id:bF},children:[{type:b,value:bG}]},{type:a,tag:u,props:{},children:[{type:a,tag:l,props:{},children:[{type:b,value:"Insert.returning"}]},{type:b,value:"을 사용하거나 사용하지 않고 "},{type:a,tag:l,props:{},children:[{type:b,value:"Session.execute"}]},{type:b,value:"를 사용할 수 있습니다. 이는 기존의 "},{type:a,tag:l,props:{},children:[{type:b,value:"Session.bulk_insert_mappings"}]},{type:b,value:"와 동일합니다."}]},{type:a,tag:v,props:{code:"\u003E\u003E\u003E users = session.scalars(\n...     insert(User).returning(User),\n...     [\n...         {\"name\": \"spongebob\", \"fullname\": \"Spongebob Squarepants\"},\n...         {\"name\": \"sandy\", \"fullname\": \"Sandy Cheeks\"},\n...         {\"name\": \"patrick\", \"fullname\": \"Patrick Star\"},\n...         {\"name\": \"squidward\", \"fullname\": \"Squidward Tentacles\"},\n...         {\"name\": \"ehkrabs\", \"fullname\": \"Eugene H. Krabs\"},\n...     ],\n... )\n\u003E\u003E\u003E print(users.all())\n[User(name='spongebob', fullname='Spongebob Squarepants'),\n User(name='sandy', fullname='Sandy Cheeks'),\n User(name='patrick', fullname='Patrick Star'),\n User(name='squidward', fullname='Squidward Tentacles'),\n User(name='ehkrabs', fullname='Eugene H. Krabs')]\n",language:A,meta:H},children:[{type:a,tag:I,props:{},children:[{type:a,tag:v,props:{__ignoreMap:B},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:ad}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" users "}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" session.scalars("}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"     insert(User).returning(User),"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bH}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:E}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:T}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:t}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"\"spongebob\""}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:s}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:F}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:t}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bI}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:G}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:E}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:T}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:t}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"\"sandy\""}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:s}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:F}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:t}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"\"Sandy Cheeks\""}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:G}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:E}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:T}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:t}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"\"patrick\""}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:s}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:F}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:t}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bJ}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:G}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:E}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:T}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:t}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"\"squidward\""}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:s}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:F}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:t}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"\"Squidward Tentacles\""}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:G}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:E}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:T}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:t}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"\"ehkrabs\""}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:s}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:F}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:t}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"\"Eugene H. Krabs\""}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:G}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bK}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bL}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:ad}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:"print"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"(users.all())"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:"[User("}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:D}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"'spongebob'"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:s}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:U}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"'Spongebob Squarepants'"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:R}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:S}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:D}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"'sandy'"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:s}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:U}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"'Sandy Cheeks'"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:R}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:S}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:D}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"'patrick'"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:s}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:U}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"'Patrick Star'"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:R}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:S}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:D}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"'squidward'"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:s}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:U}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"'Squidward Tentacles'"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:R}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:d},children:[{type:b,value:S}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:D}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"'ehkrabs'"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:s}]},{type:a,tag:c,props:{class:k},children:[{type:b,value:U}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:h}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:"'Eugene H. Krabs'"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:be}]}]}]}]}]},{type:a,tag:ay,props:{id:bM},children:[{type:b,value:bN}]},{type:a,tag:u,props:{},children:[{type:a,tag:l,props:{},children:[{type:b,value:"Insert"}]},{type:b,value:"와 같은 방법으로 사용가능합니다. 기존의 "},{type:a,tag:l,props:{},children:[{type:b,value:"Session.bulk_update_mappings"}]},{type:b,value:"와 동일합니다. 단 "},{type:a,tag:l,props:{},children:[{type:b,value:"returning"}]},{type:b,value:"은 지원하지 않습니다."}]},{type:a,tag:v,props:{code:"\u003E\u003E\u003E from sqlalchemy import update\n\u003E\u003E\u003E session.execute(\n...     update(User),\n...     [\n...         {\"id\": 1, \"fullname\": \"Spongebob Squarepants\"},\n...         {\"id\": 3, \"fullname\": \"Patrick Star\"},\n...     ],\n... )\n",language:A,meta:H},children:[{type:a,tag:I,props:{},children:[{type:a,tag:v,props:{__ignoreMap:B},children:[{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:ad}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:m}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:J}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:X}]},{type:a,tag:c,props:{class:g},children:[{type:b,value:y}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" update"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:g},children:[{type:b,value:ad}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:" session.execute("}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:"     update(User),"}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bH}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:E}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bO}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:t}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:a_}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:s}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:F}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:t}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bI}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:G}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:E}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bO}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:t}]},{type:a,tag:c,props:{class:i},children:[{type:b,value:"3"}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:s}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:F}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:t}]},{type:a,tag:c,props:{class:j},children:[{type:b,value:bJ}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:G}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bK}]}]},{type:a,tag:e,props:{class:f},children:[{type:a,tag:c,props:{class:i},children:[{type:b,value:r}]},{type:a,tag:c,props:{class:d},children:[{type:b,value:bL}]}]}]}]}]},{type:a,tag:ay,props:{id:V},children:[{type:a,tag:l,props:{},children:[{type:b,value:V}]}]},{type:a,tag:u,props:{},children:[{type:a,tag:l,props:{},children:[{type:b,value:V}]},{type:b,value:"의 기본값이 새로 추가된 "},{type:a,tag:l,props:{},children:[{type:b,value:bP}]},{type:b,value:"로 변경됐습니다. "},{type:a,tag:l,props:{},children:[{type:b,value:bP}]},{type:b,value:"는 우선 "},{type:a,tag:l,props:{},children:[{type:b,value:"evaluate"}]},{type:b,value:"로 시도하고, 문제가 발생하면 "},{type:a,tag:l,props:{},children:[{type:b,value:"fetch"}]},{type:b,value:"로 다시 시도합니다. "},{type:a,tag:l,props:{},children:[{type:b,value:ax}]},{type:b,value:"과 "},{type:a,tag:l,props:{},children:[{type:b,value:bm}]},{type:b,value:"를 제외한 모든 백엔드에서 효율적입니다."}]},{type:a,tag:O,props:{id:bQ},children:[{type:b,value:bR}]},{type:a,tag:u,props:{},children:[{type:b,value:"그 외에도 여러가지 변경 및 추가사항이 많습니다. 하지만 굳이 다 적을 필요가 없기에 생략합니다.\n원문 링크는 본문 상단에 있습니다."}]},{type:a,tag:u,props:{},children:[{type:a,tag:l,props:{},children:[{type:b,value:"sqlalchemy2.0"}]},{type:b,value:"은, 기존에 "},{type:a,tag:l,props:{},children:[{type:b,value:af}]},{type:b,value:"를 사용했다면, 사용하지 않을 이유가 없는 라이브러리입니다. 하지만 아쉽게도 아직 다른 라이브러리와 종속성 문제로 인해 사용하지 못하는 경우가 많겠습니다. "},{type:a,tag:l,props:{},children:[{type:b,value:"airflow"}]},{type:b,value:"라던가 "},{type:a,tag:l,props:{},children:[{type:b,value:"pandas"}]},{type:b,value:z},{type:a,tag:l,props:{},children:[{type:b,value:"read_sql"}]},{type:b,value:"이나 "},{type:a,tag:l,props:{},children:[{type:b,value:"to_sql"}]},{type:b,value:"같은 메소드를 사용하지 않으면 상관없습니다)같은 경우입니다."}]},{type:a,tag:"style",children:[{type:b,value:".ct-829a10{color:#8250DF}\n.ct-381f71{color:#953800}\n.ct-80b6d7{color:#0550AE}\n.ct-3a3884{color:#6E7781}\n.ct-60bfbf{color:#0A3069}\n.ct-4e62b6{color:#24292F}\n.ct-919d6b{color:#CF222E}\n.dark .ct-919d6b{color:#FF7B72}\n.dark .ct-4e62b6{color:#C9D1D9}\n.dark .ct-60bfbf{color:#A5D6FF}\n.dark .ct-3a3884{color:#8B949E}\n.dark .ct-80b6d7{color:#79C0FF}\n.dark .ct-381f71{color:#FFA657}\n.dark .ct-829a10{color:#D2A8FF}"}]}],toc:{title:B,searchDepth:bS,depth:bS,links:[{id:aB,depth:W,text:aC},{id:bb,depth:W,text:bc},{id:bl,depth:W,text:"3. 최적화된 bulk insert(MySQL 제외, MariaDB 포함)"},{id:bE,depth:W,text:"4. 향상된 orm 지원",children:[{id:bF,depth:az,text:bG},{id:bM,depth:az,text:bN},{id:V,depth:az,text:V}]},{id:bQ,depth:W,text:bR}]}},_type:"markdown",_id:"content:python:why_sqlachemy2.md",_source:"content",_file:"python\u002Fwhy_sqlachemy2.md",_extension:"md"},surround:[{_path:"\u002Fpython\u002Ftype_hint_4",title:"[코드를 깔끔하게] ruff - 4",description:bT},{_path:"\u002Fpython\u002Ftype_hint_3",title:"[코드를 깔끔하게] isort - 3",description:bT}]}},prerenderedAt:1690056941346}}("element","text","span","ct-4e62b6","div","line","ct-919d6b","=","ct-80b6d7","ct-60bfbf","ct-381f71","code-inline"," ","center","ct-3a3884","td","    ","...",", ",": ","p","code",")","tr","import","(","python","","):","name","         {","\"fullname\"","},",null,"pre","from","class","Base"," mapped_column(","th","h2","as","str","),"," User(","\"name\"","fullname","synchronize_session",2," sqlalchemy ","))","None"," (","    __tablename__ ","id","int","    )","\u003E\u003E\u003E",false,"sqlalchemy"," sa","engine "," sa.create_engine(sa.make_url(","\"sqlite:\u002F\u002F\"","+","  ","    result ","        ","] ","primary_key","True","]","        session.execute(","        )"," Annotated[","init","False","MySQL","h3",3,"orm","1-pep-484-지원","1. PEP-484 지원"," sa.column(","\"a\""," int_col ","==","with","__future__"," annotations"," sqlalchemy.orm ","    DeclarativeBase,","    Mapped,","    mapped_column,","    relationship,","DeclarativeBase","User","\"user_account\"",": Mapped[","    addresses: Mapped[list[Address]] ","Address","\"address\"","    email_address: Mapped[","\"user_account.id\"","    stmt "," session.execute(stmt)","1","        .scalars()","            sa.select(User),","2-pep-681-지원","2. PEP-681 지원","dataclass",")]","))]",": Mapped[intpk] ","default"," relationship(","back_populates",",","3-최적화된-bulk-insertmysql-제외-mariadb-포함","MariaDB","RETURNING","ct-829a10","for","in","range","1000","                    ","%d","\"","%"," i,","table","thead","driver","sqlalchemy1.4(초)","sqlalchemy2.0(초)","tbody","4-향상된-orm-지원","bulk-insert","bulk insert","     [","\"Spongebob Squarepants\"","\"Patrick Star\"","     ],"," )","bulk-update","bulk update","\"id\"","auto","5-그-외","5. 그 외..",5,"생산성 향상을 위해"))