import{a as P,P as R,ap as S,aq as $,am as j,an as A,b as a,ar as I,as as T,r as G,N as H,o as x,f as y,i as q,l as b,y as w,C as z,u as t,p as N,F as J,D as K,E as O,e as Q,$ as U,L as W,k as X}from"./entry.d799b109.js";/* empty css                       */const Y={class:"flex justify-center mb-3"},Z={class:"flex list-none"},ee=P({__name:"pagination",props:{count_data:null,how:null},setup(B){const u=B,f=Q(),l=R();let h,c;u.how==="tag"?(h=S(),c=$()):(h=j(),c=A());const E=a(()=>{const e=h.value;let s;return e.size===0?s=u.count_data.length:s=u.count_data.filter(i=>u.how==="tag"?[...new Set(i.tags)].filter(o=>e.has(o)).length==e.size:e.has(i.page)).length,u.how==="tag"?I(s,c):T(s,c),s}),p=a(()=>{const e=E.value,s=Math.floor(e/f.public.default_limit);return e%f.public.default_limit?s+1:s}),n=f.public.pagination_size,g=a(()=>Math.floor(p.value/n)),L=a(()=>p.value%n),r=G(1),_=a(()=>{let e=Math.floor(r.value/n);return r.value%n===0&&(e-=1),e}),v=a(()=>{const e=r.value%n;return e===0?n:e}),k=a(()=>{let e=!0;return _.value===0&&(e=e&&!1),(_.value===g.value||_.value+1===g.value&&v.value>0)&&(e=e&&!0),e}),C=a(()=>{let e=!0;return _.value===0&&(e=e&&!0),_.value===g.value&&(e=e&&!1),e}),V=a(()=>_.value<g.value||v.value===0?n:L.value),d=a(()=>{let e=Math.floor(r.value/n);return r.value%n||(e-=1),e*n+1}),m=a(()=>[...Array(V.value).keys()].map(e=>e+d.value)),D=a(()=>{let e=m.value.at(0)??-1;return e>=2&&(e-=1),e}),F=a(()=>{let e=m.value.at(-1)??-1;return e<p.value&&(e+=1),e}),M=()=>{if(!u.count_data.length)return;let e;if(l.query.page?e=Number(l.query.page):e=1,e>p.value)throw U({statusCode:400,statusMessage:`invalid page: ${r.value}`});r.value=e};return M(),H(()=>l.query,()=>{M()}),(e,s)=>{const i=W;return x(),y("div",Y,[q("ul",Z,[q("li",null,[b(i,{to:{path:t(l).path,query:{page:t(D)}},class:N(["botton-text",{active:t(k),inactive:!t(k)}])},{default:w(()=>[z("Previous")]),_:1},8,["to","class"])]),(x(!0),y(J,null,K(t(m),o=>(x(),y("li",{key:o},[b(i,{to:{path:t(l).path,query:{page:o}},class:N(["botton-text",{active:o!==t(v)+t(d)-1,select:o===t(v)+t(d)-1}])},{default:w(()=>[z(O(o),1)]),_:2},1032,["to","class"])]))),128)),q("li",null,[b(i,{to:{path:t(l).path,query:{page:t(F)}},class:N(["botton-text",{active:t(C),inactive:!t(C)}])},{default:w(()=>[z("Next")]),_:1},8,["to","class"])])])])}}}),se=X(ee,[["__scopeId","data-v-1f6bf525"]]);export{se as _};
