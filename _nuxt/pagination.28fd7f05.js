import{a as R,H as S,v as a,k as A,x as D,o as x,b as y,y as b,f as q,w,ac as z,u as t,h as k,aa as H,ab as I,B as P,F as T,a1 as $,j as G,i as J}from"./entry.0271a5d4.js";import{c as K,d as O,g as Q,b as U,e as W,f as X}from"./state.a804f4db.js";/* empty css                       */const Y={class:"flex justify-center mb-3"},Z={class:"flex list-none"},ee=R({__name:"pagination",props:{count_data:null,how:null},setup(B){const u=B,f=T(),l=S();let h,c;u.how==="tag"?(h=K(),c=O()):(h=Q(),c=U());const V=a(()=>{const e=h.value;let s;return e.size===0?s=u.count_data.length:s=u.count_data.filter(i=>u.how==="tag"?[...new Set(i.tags)].filter(o=>e.has(o)).length==e.size:e.has(i.page)).length,u.how==="tag"?W(s,c):X(s,c),s}),p=a(()=>{const e=V.value,s=Math.floor(e/f.public.default_limit);return e%f.public.default_limit?s+1:s}),n=f.public.pagination_size,g=a(()=>Math.floor(p.value/n)),j=a(()=>p.value%n),r=A(1),_=a(()=>{let e=Math.floor(r.value/n);return r.value%n===0&&(e-=1),e}),v=a(()=>{const e=r.value%n;return e===0?n:e}),N=a(()=>{let e=!0;return _.value===0&&(e=e&&!1),(_.value===g.value||_.value+1===g.value&&v.value>0)&&(e=e&&!0),e}),C=a(()=>{let e=!0;return _.value===0&&(e=e&&!0),_.value===g.value&&(e=e&&!1),e}),E=a(()=>_.value<g.value||v.value===0?n:j.value),d=a(()=>{let e=Math.floor(r.value/n);return r.value%n||(e-=1),e*n+1}),m=a(()=>[...Array(E.value).keys()].map(e=>e+d.value)),F=a(()=>{let e=m.value.at(0)??-1;return e>=2&&(e-=1),e}),L=a(()=>{let e=m.value.at(-1)??-1;return e<p.value&&(e+=1),e}),M=()=>{if(!u.count_data.length)return;let e;if(l.query.page?e=Number(l.query.page):e=1,e>p.value)throw $({statusCode:400,statusMessage:`invalid page: ${r.value}`});r.value=e};return M(),D(()=>l.query,()=>{M()}),(e,s)=>{const i=G;return x(),y("div",Y,[b("ul",Z,[b("li",null,[q(i,{to:{path:t(l).path,query:{page:t(F)}},class:k(["botton-text",{active:t(N),inactive:!t(N)}])},{default:w(()=>[z("Previous")]),_:1},8,["to","class"])]),(x(!0),y(H,null,I(t(m),o=>(x(),y("li",{key:o},[q(i,{to:{path:t(l).path,query:{page:o}},class:k(["botton-text",{active:o!==t(v)+t(d)-1,select:o===t(v)+t(d)-1}])},{default:w(()=>[z(P(o),1)]),_:2},1032,["to","class"])]))),128)),b("li",null,[q(i,{to:{path:t(l).path,query:{page:t(L)}},class:k(["botton-text",{active:t(C),inactive:!t(C)}])},{default:w(()=>[z("Next")]),_:1},8,["to","class"])])])])}}}),ne=J(ee,[["__scopeId","data-v-e86a0766"]]);export{ne as _};
