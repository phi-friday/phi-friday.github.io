import{_ as F}from"./one.vue.193ccc4e.js";import{_ as H}from"./one.vue.f36484cf.js";import L from"./toc.0875a68e.js";import P from"./ContentRenderer.660f9493.js";import R from"./prev_next.99371c80.js";import{a as T,L as $,G as q,r as m,b as D,$ as G,H as U,a0 as z,o as r,f as l,p as n,C as f,u as o,j as h,F as J,B as K,i as d,x as Q,e as W,a1 as X,a2 as Y,k as Z}from"./entry.7322345b.js";/* empty css                 *//* empty css                */import"./ContentRendererMarkdown.8d14697c.js";/* empty css                      */const _=i=>(X("data-v-f9f90665"),i=i(),Y(),i),tt={class:"article-main"},et={class:"article-header"},ot={class:"mb-1 heading"},nt={key:0,class:"mb-1 supporting"},st={key:1,class:"flex-wrap pb-0 article-tags"},at=_(()=>n("p",{class:"pt-1 font-mono text-sm font-thin text-slate-400"},"tags:",-1)),ct={key:2,class:"flex-wrap mt-0 mb-1 article-tags"},it=_(()=>n("p",{class:"pt-1 font-mono text-sm font-thin text-slate-400"},"page:",-1)),rt={class:"font-mono text-sm font-thin text-slate-400"},lt=_(()=>n("hr",null,null,-1)),dt={class:"article-section"},_t={class:"aside"},pt={class:"article page"},ut=_(()=>n("p",null,"No content found.",-1)),mt=T({__name:"post",props:{article:null,prev:null,next:null,prefix:null},setup(i){var y;const s=i,v=/\d{4}-[01]{1}\d{1}-[0-3]{1}\d{1}/,w=s.prev??void 0,C=s.next??void 0;let a;if(s.article)a=s.article;else throw $({statusCode:500,statusMessage:`invaild article type: ${typeof s.article}`});if(!v.test(s.article.date))throw $({statusCode:400,statusMessage:`invalid date string: ${s.article.date}`});const I=(y=s.article.date.match(v))==null?void 0:y.at(0);q({title:`${W().public.name} - ${s.article.title}`,meta:[{hid:"description",name:"description",content:s.article.description}]});const x=t=>{if(!t.children)return[];let e=[];for(const c of t.children){if(c.type==="text"){e=[...e,c.value];continue}e=[...e,...x(c)]}return e},g=["h1","h2","h3","h4","h5"],O=s.article.body.children.filter(t=>g.indexOf(t.tag??"")>=0).map(t=>{var e;return{id:(e=t.props)==null?void 0:e.id,depth:g.indexOf(t.tag??"")+1,text:x(t).join("")}}),p=m(new Set),S=D(()=>[...p.value]),b=m(),u=m(null),B=G({root:b.value,threshold:.5});return U(()=>{u.value=new IntersectionObserver(t=>{t.forEach(e=>{const c=e.target.getAttribute("id");c&&(e.isIntersecting?p.value.add(c):p.value.delete(c))})},B),document.querySelectorAll([1,2,3,4,5].map(t=>`.nuxt-content h${t}[id]`).join(", ")).forEach(t=>{var e;(e=u.value)==null||e.observe(t)})}),z(()=>{var t;(t=u.value)==null||t.disconnect()}),(t,e)=>{var k;const c=F,N=H,E=L,j=P,M=R;return r(),l("div",tt,[n("div",null,[n("header",et,[n("h1",ot,f(o(a).title),1),o(a).description?(r(),l("p",nt,f(o(a).description),1)):h("",!0),(k=o(a).tags)!=null&&k.length?(r(),l("ul",st,[at,(r(!0),l(J,null,K(o(a).tags,(V,A)=>(r(),l("div",{key:A},[d(c,{tag:V,do_select:!0},null,8,["tag"])]))),128))])):h("",!0),o(a).page?(r(),l("ul",ct,[it,d(N,{page:o(a).page,do_select:!0},null,8,["page"])])):h("",!0),n("p",rt,"created at: "+f(o(I)),1)])]),lt,n("div",null,[n("section",dt,[n("aside",_t,[d(E,{class:"toc",links:o(O),active_toc_id:o(S)},null,8,["links","active_toc_id"])]),n("article",pt,[d(j,{class:"nuxt-content",value:o(a),ref_key:"content",ref:b},{empty:Q(()=>[ut]),_:1},8,["value"])])]),d(M,{prev:o(w),next:o(C),prefix:i.prefix},null,8,["prev","next","prefix"])])])}}}),It=Z(mt,[["__scopeId","data-v-f9f90665"]]);export{It as default};
