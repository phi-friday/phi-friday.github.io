import{_ as A}from"./one.vue.kP5VeVPe.js";import{_ as F}from"./one.vue.lcZeR2FB.js";import P from"./toc.BoDllfIZ.js";import R from"./ContentRenderer.B4UVYisi.js";import U from"./prev_next.nrZxZBoC.js";import{g as D,B as w,u as H,r as m,j as L,T as z,l as G,U as J,o as i,c as r,a as s,t as f,q as o,N as h,F as K,x as Q,b as d,w as W,y as X,p as Y,f as Z,_ as tt}from"./entry.Cjh_-4e3.js";import"./ContentRendererMarkdown.vue.BmTKBB_7.js";import"./preview.D9HWtsl3.js";const _=l=>(Y("data-v-7c706c32"),l=l(),Z(),l),et={class:"article-main"},ot={class:"article-header"},st={class:"mb-1 heading"},nt={key:0,class:"mb-1 supporting"},at={key:1,class:"flex-wrap pb-0 article-tags"},ct=_(()=>s("p",{class:"pt-1 font-mono text-sm font-thin text-slate-400"},"tags:",-1)),it={key:2,class:"flex-wrap mt-0 mb-1 article-tags"},rt=_(()=>s("p",{class:"pt-1 font-mono text-sm font-thin text-slate-400"},"page:",-1)),lt={class:"font-mono text-sm font-thin text-slate-400"},dt=_(()=>s("hr",null,null,-1)),_t={class:"article-section"},pt={class:"aside"},ut={class:"article page"},mt=_(()=>s("p",null,"No content found.",-1)),ft=D({__name:"post",props:{article:{},prev:{},next:{},prefix:{}},setup(l){var y;const n=l,v=/\d{4}-[01]{1}\d{1}-[0-3]{1}\d{1}/,$=n.prev??void 0,C=n.next??void 0;let a;if(n.article)a=n.article;else throw w({statusCode:500,statusMessage:`invaild article type: ${typeof n.article}`});if(!v.test(n.article.date))throw w({statusCode:400,statusMessage:`invalid date string: ${n.article.date}`});const I=(y=n.article.date.match(v))==null?void 0:y.at(0),N=X();H({title:`${N.public.name} - ${n.article.title}`,meta:[{hid:"description",name:"description",content:n.article.description}]});const g=t=>{if(!t.children)return[];let e=[];for(const c of t.children){if(c.type==="text"){e=[...e,c.value];continue}e=[...e,...g(c)]}return e},x=["h1","h2","h3","h4","h5"],O=n.article.body.children.filter(t=>x.indexOf(t.tag??"")>=0).map(t=>{var e;return{id:(e=t.props)==null?void 0:e.id,depth:x.indexOf(t.tag??"")+1,text:g(t).join("")}}),p=m(new Set),S=L(()=>[...p.value]),b=m(),u=m(null),B=z({root:b.value,threshold:.5});return G(()=>{u.value=new IntersectionObserver(t=>{t.forEach(e=>{const c=e.target.getAttribute("id");c&&(e.isIntersecting?p.value.add(c):p.value.delete(c))})},B),document.querySelectorAll([1,2,3,4,5].map(t=>`.nuxt-content h${t}[id]`).join(", ")).forEach(t=>{var e;(e=u.value)==null||e.observe(t)})}),J(()=>{var t;(t=u.value)==null||t.disconnect()}),(t,e)=>{var k;const c=A,E=F,j=P,M=R,T=U;return i(),r("div",et,[s("div",null,[s("header",ot,[s("h1",st,f(o(a).title),1),o(a).description?(i(),r("p",nt,f(o(a).description),1)):h("",!0),(k=o(a).tags)!=null&&k.length?(i(),r("ul",at,[ct,(i(!0),r(K,null,Q(o(a).tags,(V,q)=>(i(),r("div",{key:q},[d(c,{tag:V,do_select:!0},null,8,["tag"])]))),128))])):h("",!0),o(a).page?(i(),r("ul",it,[rt,d(E,{page:o(a).page,do_select:!0},null,8,["page"])])):h("",!0),s("p",lt,"created at: "+f(o(I)),1)])]),dt,s("div",null,[s("section",_t,[s("aside",pt,[d(j,{class:"toc",links:o(O),active_toc_id:o(S)},null,8,["links","active_toc_id"])]),s("article",ut,[d(M,{class:"nuxt-content",value:o(a),ref_key:"content",ref:b},{empty:W(()=>[mt]),_:1},8,["value"])])]),d(T,{prev:o($),next:o(C),prefix:t.prefix},null,8,["prev","next","prefix"])])])}}}),$t=tt(ft,[["__scopeId","data-v-7c706c32"]]);export{$t as default};
