import{a as R,H as S,ag as A,ah as D,a8 as H,af as I,x as a,ai as P,aj as T,l as $,y as G,o as x,b as y,e as b,h as q,w,ak as k,u as t,i as z,ac as J,ad as K,B as O,F as Q,a1 as U,k as W,j as X}from"./entry.15fe0398.js";/* empty css                       */const Y={class:"flex justify-center mb-3"},Z={class:"flex list-none"},ee=R({__name:"pagination",props:{count_data:null,how:null},setup(B){const u=B,f=Q(),l=S();let h,c;u.how==="tag"?(h=A(),c=D()):(h=H(),c=I());const j=a(()=>{const e=h.value;let s;return e.size===0?s=u.count_data.length:s=u.count_data.filter(i=>u.how==="tag"?[...new Set(i.tags)].filter(o=>e.has(o)).length==e.size:e.has(i.page)).length,u.how==="tag"?P(s,c):T(s,c),s}),p=a(()=>{const e=j.value,s=Math.floor(e/f.public.default_limit);return e%f.public.default_limit?s+1:s}),n=f.public.pagination_size,g=a(()=>Math.floor(p.value/n)),V=a(()=>p.value%n),r=$(1),_=a(()=>{let e=Math.floor(r.value/n);return r.value%n===0&&(e-=1),e}),v=a(()=>{const e=r.value%n;return e===0?n:e}),N=a(()=>{let e=!0;return _.value===0&&(e=e&&!1),(_.value===g.value||_.value+1===g.value&&v.value>0)&&(e=e&&!0),e}),C=a(()=>{let e=!0;return _.value===0&&(e=e&&!0),_.value===g.value&&(e=e&&!1),e}),E=a(()=>_.value<g.value||v.value===0?n:V.value),d=a(()=>{let e=Math.floor(r.value/n);return r.value%n||(e-=1),e*n+1}),m=a(()=>[...Array(E.value).keys()].map(e=>e+d.value)),F=a(()=>{let e=m.value.at(0)??-1;return e>=2&&(e-=1),e}),L=a(()=>{let e=m.value.at(-1)??-1;return e<p.value&&(e+=1),e}),M=()=>{if(!u.count_data.length)return;let e;if(l.query.page?e=Number(l.query.page):e=1,e>p.value)throw U({statusCode:400,statusMessage:`invalid page: ${r.value}`});r.value=e};return M(),G(()=>l.query,()=>{M()}),(e,s)=>{const i=W;return x(),y("div",Y,[b("ul",Z,[b("li",null,[q(i,{to:{path:t(l).path,query:{page:t(F)}},class:z(["botton-text",{active:t(N),inactive:!t(N)}])},{default:w(()=>[k("Previous")]),_:1},8,["to","class"])]),(x(!0),y(J,null,K(t(m),o=>(x(),y("li",{key:o},[q(i,{to:{path:t(l).path,query:{page:o}},class:z(["botton-text",{active:o!==t(v)+t(d)-1,select:o===t(v)+t(d)-1}])},{default:w(()=>[k(O(o),1)]),_:2},1032,["to","class"])]))),128)),b("li",null,[q(i,{to:{path:t(l).path,query:{page:t(L)}},class:z(["botton-text",{active:t(C),inactive:!t(C)}])},{default:w(()=>[k("Next")]),_:1},8,["to","class"])])])])}}}),se=X(ee,[["__scopeId","data-v-1f6bf525"]]);export{se as _};
