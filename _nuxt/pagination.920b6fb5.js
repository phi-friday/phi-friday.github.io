import{a as $,E as j,Y as A,Z as D,O as F,$ as I,i as a,a0 as K,a1 as O,h as T,C as W,o as x,b as q,q as y,e as b,w,P as z,u as t,M as N,s as k,V as Y,W as Z,L as G,k as H,K as J,N as Q,f as U}from"./entry.1bd2ff67.js";/* empty css                       */const X={class:"flex justify-center mb-3"},ee={class:"flex list-none"},te=$({__name:"pagination",props:{count_data:null,how:null},setup(B){const o=B,d=H(),u=j();let f,c;o.how==="tag"?(f=A(),c=D()):(f=F(),c=I());const E=a(()=>{const e=f.value;let s;return e.size===0?s=o.count_data.length:s=o.count_data.filter(i=>o.how==="tag"?[...new Set(i.tags)].filter(l=>e.has(l)).length==e.size:e.has(i.page)).length,o.how==="tag"?K(s,c):O(s,c),s}),p=a(()=>{const e=E.value,s=Math.floor(e/d.public.default_limit);return e%d.public.default_limit?s+1:s}),n=d.public.pagination_size,g=a(()=>Math.floor(p.value/n)),L=a(()=>p.value%n),r=T(1),_=a(()=>{let e=Math.floor(r.value/n);return r.value%n===0&&(e-=1),e}),v=a(()=>{const e=r.value%n;return e===0?n:e}),C=a(()=>{let e=!0;return _.value===0&&(e=e&&!1),(_.value===g.value||_.value+1===g.value&&v.value>0)&&(e=e&&!0),e}),M=a(()=>{let e=!0;return _.value===0&&(e=e&&!0),_.value===g.value&&(e=e&&!1),e}),P=a(()=>_.value<g.value||v.value===0?n:L.value),h=a(()=>{let e=Math.floor(r.value/n);return r.value%n||(e-=1),e*n+1}),m=a(()=>[...Array(P.value).keys()].map(e=>e+h.value)),R=a(()=>{let e=m.value.at(0)??-1;return e>=2&&(e-=1),e}),S=a(()=>{let e=m.value.at(-1)??-1;return e<p.value&&(e+=1),e}),V=()=>{if(!o.count_data.length)return;let e;if(u.query.page?e=Number(u.query.page):e=1,e>p.value)throw J({statusCode:400,statusMessage:`invalid page: ${r.value}`});r.value=e};return V(),W(()=>u.query,()=>{V()}),(e,s)=>{const i=Q;return x(),q("div",X,[y("ul",ee,[y("li",null,[b(i,{to:{path:("add_trailing_slash"in e?e.add_trailing_slash:t(N))(t(u).path),query:{page:t(R)}},class:k(["botton-text",{active:t(C),inactive:!t(C)}])},{default:w(()=>[z("Previous")]),_:1},8,["to","class"])]),(x(!0),q(Y,null,Z(t(m),l=>(x(),q("li",{key:l},[b(i,{to:{path:("add_trailing_slash"in e?e.add_trailing_slash:t(N))(t(u).path),query:{page:l}},class:k(["botton-text",{active:l!==t(v)+t(h)-1,select:l===t(v)+t(h)-1}])},{default:w(()=>[z(G(l),1)]),_:2},1032,["to","class"])]))),128)),y("li",null,[b(i,{to:{path:("add_trailing_slash"in e?e.add_trailing_slash:t(N))(t(u).path),query:{page:t(S)}},class:k(["botton-text",{active:t(M),inactive:!t(M)}])},{default:w(()=>[z("Next")]),_:1},8,["to","class"])])])])}}}),ne=U(te,[["__scopeId","data-v-7059e1a8"]]);export{ne as default};
