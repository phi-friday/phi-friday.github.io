import{_ as d}from"./WuPNt_re.js";import{u as g}from"./CHWZtHjY.js";import{a as v,r as a,s as _,p as f,q as k,U as y,o as p,e as b,h as C,i as w,j as x,f as e,g as B,af as V,I as N,k as S}from"./CzTmpAoU.js";import{u as q}from"./BRIiEOC1.js";const I=v({__name:"comment",setup(E){const o=S(),m=g(),n=a(!1),r=a(null),l=q(r),i=_(()=>m.safe_color_schema==="dark"?"github-dark":"github-light"),c=a(!1),h=_(()=>c.value&&n.value);return f(()=>m.color_schema,()=>{var s;const u={type:"set-theme",theme:i.value},t=(s=document.querySelector("iframe"))==null?void 0:s.contentWindow;t==null||t.postMessage(u,"https://utteranc.es")}),f(l,()=>{l.value&&(c.value=!0)}),k(()=>{setTimeout(()=>{n.value=!0},1e3)}),y(()=>{n.value=!1,c.value=!1}),(u,t)=>{const s=d;return p(),b("div",null,[C("section",{class:"w-full",ref_key:"section_ref",ref:r},[w(s,null,{default:x(()=>[e(h)?(p(),B(V("script"),{key:0,async:"",src:e(o).public.comment.src,repo:e(o).public.comment.repo,"issue-term":e(o).public.comment.issue_term,crossorigin:e(o).public.comment.crossorigin,theme:e(i)},null,8,["src","repo","issue-term","crossorigin","theme"])):N("",!0)]),_:1})],512)])}}});export{I as default};
