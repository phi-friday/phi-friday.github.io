import{g as I,h as L,C as A,E as D,i as P,n as T,j as a,r as $,m as G,o as x,c as y,a as q,b,w,d as z,q as t,I as C,v as N,F as H,x as J,t as K,y as O,R as Q,S as U,B as W,e as X,_ as Y}from"./DFAQJBFD.js";const Z={class:"flex justify-center mb-3"},ee={class:"flex list-none"},te=I({__name:"pagination",props:{count_data:{},how:{}},setup(E){const o=E,d=O(),_=L();let h,c;o.how==="tag"?(h=A(),c=D()):(h=P(),c=T());const R=a(()=>{const e=h.value;let s;return e.size===0?s=o.count_data.length:s=o.count_data.filter(i=>o.how==="tag"?[...new Set(i.tags)].filter(l=>e.has(l)).length==e.size:e.has(i.page)).length,o.how==="tag"?Q(s,c):U(s,c),s}),p=a(()=>{const e=R.value,s=Math.floor(e/d.public.default_limit);return e%d.public.default_limit?s+1:s}),n=d.public.pagination_size,g=a(()=>Math.floor(p.value/n)),S=a(()=>p.value%n),r=$(1),u=a(()=>{let e=Math.floor(r.value/n);return r.value%n===0&&(e-=1),e}),v=a(()=>{const e=r.value%n;return e===0?n:e}),k=a(()=>{let e=!0;return u.value===0&&(e=e&&!1),(u.value===g.value||u.value+1===g.value&&v.value>0)&&(e=e&&!0),e}),M=a(()=>{let e=!0;return u.value===0&&(e=e&&!0),u.value===g.value&&(e=e&&!1),e}),V=a(()=>u.value<g.value||v.value===0?n:S.value),f=a(()=>{let e=Math.floor(r.value/n);return r.value%n||(e-=1),e*n+1}),m=a(()=>[...Array(V.value).keys()].map(e=>e+f.value)),j=a(()=>{let e=m.value.at(0)??-1;return e>=2&&(e-=1),e}),F=a(()=>{let e=m.value.at(-1)??-1;return e<p.value&&(e+=1),e}),B=()=>{if(!o.count_data.length)return;let e;if(_.query.page?e=Number(_.query.page):e=1,e>p.value)throw W({statusCode:400,statusMessage:`invalid page: ${r.value}`});r.value=e};return B(),G(()=>_.query,()=>{B()}),(e,s)=>{const i=X;return x(),y("div",Z,[q("ul",ee,[q("li",null,[b(i,{to:{path:("add_trailing_slash"in e?e.add_trailing_slash:t(C))(t(_).path),query:{page:t(j)}},class:N(["botton-text",{active:t(k),inactive:!t(k)}])},{default:w(()=>[z("Previous")]),_:1},8,["to","class"])]),(x(!0),y(H,null,J(t(m),l=>(x(),y("li",{key:l},[b(i,{to:{path:("add_trailing_slash"in e?e.add_trailing_slash:t(C))(t(_).path),query:{page:l}},class:N(["botton-text",{active:l!==t(v)+t(f)-1,select:l===t(v)+t(f)-1}])},{default:w(()=>[z(K(l),1)]),_:2},1032,["to","class"])]))),128)),q("li",null,[b(i,{to:{path:("add_trailing_slash"in e?e.add_trailing_slash:t(C))(t(_).path),query:{page:t(F)}},class:N(["botton-text",{active:t(M),inactive:!t(M)}])},{default:w(()=>[z("Next")]),_:1},8,["to","class"])])])])}}}),se=Y(te,[["__scopeId","data-v-7059e1a8"]]);export{se as default};
