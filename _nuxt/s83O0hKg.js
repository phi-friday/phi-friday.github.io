import{X as W,V as M,f as T,r as v,s as h,p as E,q as j,W as x}from"./qiU9rpxX.js";function I(e){return W()?(M(e),!0):!1}function g(e){return typeof e=="function"?e():T(e)}const C=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const V=e=>e!=null,X=Object.prototype.toString,L=e=>X.call(e)==="[object Object]",y=()=>{},b=C?window:void 0;function m(e){var t;const n=g(e);return(t=n==null?void 0:n.$el)!=null?t:n}function Y(...e){let t,n,o,l;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,o,l]=e,t=b):[t,n,o,l]=e,!t)return y;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const i=[],c=()=>{i.forEach(r=>r()),i.length=0},u=(r,s,w,d)=>(r.addEventListener(s,w,d),()=>r.removeEventListener(s,w,d)),p=E(()=>[m(t),g(l)],([r,s])=>{if(c(),!r)return;const w=L(s)?{...s}:s;i.push(...n.flatMap(d=>o.map(f=>u(r,d,f,w))))},{immediate:!0,flush:"post"}),a=()=>{p(),c()};return I(a),a}function k(){const e=v(!1),t=x();return t&&j(()=>{e.value=!0},t),e}function D(e){const t=k();return h(()=>(t.value,!!e()))}function G(e,t,n={}){const{root:o,rootMargin:l="0px",threshold:i=0,window:c=b,immediate:u=!0}=n,p=D(()=>c&&"IntersectionObserver"in c),a=h(()=>{const f=g(e);return(Array.isArray(f)?f:[f]).map(m).filter(V)});let r=y;const s=v(u),w=p.value?E(()=>[a.value,m(o),s.value],([f,O])=>{if(r(),!s.value||!f.length)return;const S=new IntersectionObserver(t,{root:m(O),rootMargin:l,threshold:i});f.forEach(A=>A&&S.observe(A)),r=()=>{S.disconnect(),r=y}},{immediate:u,flush:"post"}):y,d=()=>{r(),w(),s.value=!1};return I(d),{isSupported:p,isActive:s,pause(){r(),s.value=!1},resume(){s.value=!0},stop:d}}function q(e,t={}){const{window:n=b,scrollTarget:o,threshold:l=0}=t,i=v(!1);return G(e,c=>{let u=i.value,p=0;for(const a of c)a.time>=p&&(p=a.time,u=a.isIntersecting);i.value=u},{root:o,window:n,threshold:l}),i}function B(e={}){const{window:t=b,behavior:n="auto"}=e;if(!t)return{x:v(0),y:v(0)};const o=v(t.scrollX),l=v(t.scrollY),i=h({get(){return o.value},set(u){scrollTo({left:u,behavior:n})}}),c=h({get(){return l.value},set(u){scrollTo({top:u,behavior:n})}});return Y(t,"scroll",()=>{o.value=t.scrollX,l.value=t.scrollY},{capture:!1,passive:!0}),{x:i,y:c}}export{B as a,q as u};
